!function(n,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var r={exports:{}};t(r,r.exports),n.aeroflow=r.exports}}(this,function(n,t){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function u(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function e(){return function(n,t){return t()}}function i(n,t,r){switch(n){case!0:return!1;case!1:return r(!1),!0}switch(ft(n)){case Ln:n.then(function(n){i(n,t,r)||t(!0)},r);break;case qn:r(n)}return!0}function o(n){return function(t,r){i(t(n),r,r)||r(!0)}}function c(n){return function(t,r,u){var e=-1;!function o(){for(;++e<n.length;)if(i(t(n[e]),o,r))return;r(!0)}()}}function a(n){return function(t,r,u){try{i(t(n(u.data)),r,r)||r()}catch(e){r(e)}}}function f(n){return function(t,r,u){return n.then(function(n){i(t(n),r,r)||r(!0)},r)}}function l(n){return function(t,r,u){var e=void 0,o=o=n[Hn]();!function c(){for(;!(e=o.next()).done;)if(i(t(e.value),c,r))return;r(!0)}()}}function s(n,t){var r=ft(n);if(r===Bn)return n.emitter;var u=pt[r];return vt(u)?u(n):!gt.has(r)&&Hn in n?l(n):t?o(n):void 0}function v(n){return wt(n)?e():vt(n)?function(t,r,u){function e(n){a.push(n),c()}function o(n){f||(f=!0,vt(l)&&setTimeout(l,0),r(n))}function c(){for(s=!1;a.length;)if(i(t(a.shift()),c,o))return void(s=!0)}var a=[],f=!1,l=void 0,s=!1;l=n(e,o,u)}:o(n)}function h(n){return function(t,r){return r(st(n)?n:new Error(n))}}function d(n,t){var r=vt(n)?n:ot(n);return function(n,u,e){var o=0,c=t;!function a(){for(;!i(n(r(c,o++,e.data))),u;);}()}}function w(n,t){t=mt(t,1),n=mt(n,0),t-=n;var r=ht(n)&&ht(t)?$n:identity;return function(u,e){!function o(){for(;!i(u(r(n+t*nt())),o,e););}()}}function b(n,t,r){if(t=mt(t,rt),n=mt(n,0),n===t)return o(n);var u=t>n;if(u){if(r=mt(r,1),1>r)return o(n)}else if(r=mt(r,-1),r>-1)return o(n);return function(u,e,o){var c=n-r;!function a(){for(;(c+=r)<=t;)if(i(u(c),a,e))return;e(!0)}()}}function m(n){var t=isFunction(n)?n:constant(n);return function(n,r,u){var e=0;!function o(){for(;!i(n(t(e++,u.data)),o,r););}()}}function p(n){return n=+n,(isNaN(n)||0>n)&&(n=0),function(t,r,u){function e(n){i(t(new Date),delay,r)||delay()}!function(){setTimeout(e,n)}()}}function g(n){return function(t){return function(r,u,e){var i=!0,o=1,c=void 0;t(function(t){return i?(i=!1,c=t):c=n(c,t,o++,e.data),!0},function(n){return wt(n)&&!i&&r(c),u(n)},e)}}}function y(n,t){return function(r){return function(u,e,i){var o=0,c=t;r(function(t){return c=n(c,t,o++,i.data),!0},function(n){return wt(n)&&u(c),e(n)},i)}}}function E(n,t){return function(r){return function(u,e,i){var o=!0,c=0,a=t;r(function(t){return o=!1,a=n(a,t,c++,i.data),!0},function(n){return wt(n)&&!o&&u(a),e(n)},i)}}}function k(n,t,r){return wt(n)?e:vt(n)?wt(t)?g(n):r?E(n,t):y(n,t):function(){return o(n)}}function x(n){var t=n?E:y;return t(function(n){return n+1},0)}function A(n){var t=vt(n)?n:ot(n);return function(n){return function(r,u,e){var o=0;return n(function(n){var u=t(n,o++,e.data);switch(ft(u)){case Xn:u-=Zn();break;case Kn:break;default:u=+u}return 0>u&&(u=0),new Promise(function(t,e){setTimeout(function(){i(r(n),t,e)||t(!0)},u)})},u,e)}}}function M(n){return function(t){return function(r,u,e){return t(function(t){return console.log(n+"next",t),r(t)},function(t){st(t)?console.error(n+"done",t):console.log(n+"done"),u(t)},e)}}}function N(n,t){return function(r){return function(u,e,i){return r(function(r){return t(n+"next",r),u(r)},function(r){st(r)?t(n+"done",r):t(n+"done"),e(r)},i)}}}function S(n,t){return vt(n)?N("",n):vt(t)?N(n,t):M(wt(n)?"":n)}function j(n){var t=void 0;switch(ft(n)){case zn:t=n;break;case Vn:t=function(t){return n.test(t)};break;case Yn:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var o=!0,c=!0;n(function(n){return o=!1,t(n)?!0:(c=!1,!1)},function(n){(st(n)||!i(r(c&&!o),u,u))&&u(n)},e)}}}function O(n){var t=void 0;switch(ft(n)){case zn:t=n;break;case Vn:t=function(t){return n.test(t)};break;case Yn:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var i=0;n(function(n){return!t(n,i++,e.data)||r(n)},u,e)}}}function T(n){n=n.length?n.map(function(n){return vt(n)?n:ot(n)}):[ot()];var t=n.length-1;return function(r){return function(u,e,i){var o=new Map,c=0;r(function(r){for(var u=void 0,e=o,a=-1;++a<=t;){var f=n[a](r,c++,i.data);u=e.get(f),u||(u=a===t?[]:new Map,e.set(f,u)),e=u}return u.push(r),!0},function(n){isError(n)?e(n):l(o)(u,e,i)},i)}}}function P(n,t){var r=vt(n)?n:ot(wt(n)?",":n),u=t?E:y;return u(function(n,t,u,e){return n.length?n+r(t,u,e)+t:t},"")}function _(n){if(wt(n))return ct;var t=vt(n)?n:ot(n);return function(n){return function(r,u,e){var i=0;n(function(n){return r(t(n,i++,e.data))},u,e)}}}function D(){return g(function(n,t){return t>n?t:n})}function F(){return function(n){return function(t,r,u){var e=[];n(function(n){return e.push(n),!0},function(n){(isError(n)||!defer(t(e),bt(r,n),r))&&r(n)},u)}}}function I(){return function(n){return function(t,r,u){return F()(n)(function(n){n.length&&(n.sort(),t(n[$n(n.length/2)]))},r,u)}}}function R(){return g(function(n,t){return n>t?t:n})}function B(){return function(n){return function(t,r,u){return F()(n)(function(n){for(var r=n.length;r--;)t(n[r]);return!1},r,u)}}}function C(){return function(n){return function(t,r,u){return n(at,r,u)}}}function G(n){return function(t){return function(r,u,e){var i=-1;t(function(t){return++i<n||r(t)},u,e)}}}function U(n){return function(t){return function(r,u,e){var i=void 0;F()(t)(function(n){return i=n,!1},function(t){isError(t)?u(t):arrayEmitter(i.slice(tt(values.length-n,0)))(r,u,e)},e)}}}function X(n){return function(t){return function(r,u,e){var i=0,o=!0;t(function(t){return o&&!n(t,i++,e.data)&&(o=!1),o||r(t)},u,e)}}}function q(n){switch(ft(n)){case Kn:return n>0?G(n):0>n?U(-n):ct;case zn:return X(n);case Yn:return C();default:return n?C():ct}}function z(n){var t=void 0;switch(ft(n)){case zn:t=n;break;case Vn:t=function(t){return n.test(t)};break;case Yn:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var i=!1;n(function(n){return t(n)?(i=!0,!1):!0},function(n){(isError(n)||!unsync(r(i),u,u))&&u(n)},e)}}}function H(){return y(function(n,t){return n+t},0)}function J(n){return function(t){return function(r,u,e){var i=-1;t(function(t){return++i<n&&r(t)},u,e)}}}function K(n){return function(n){return function(t,r,u){var e=void 0;F()(n)(function(n){return e=n,!1},function(n){isError(n)?r(n):arrayEmitter(e)(t,r,u)},u)}}}function L(n){return function(t){return function(r,u,e){var i=0;t(function(t){return n(t,i++,e.data)&&r(t)},u,e)}}}function Q(n){switch(ft(n)){case Kn:return n>0?J(n):0>n?K(-n):e();case zn:return L(n);default:return n?ct:e()}}function V(n){return function(t){return vt(n)?function(r,u,e){var i=0;t(function(t){return n(value,i++,e.data),r(t)},u,e)}:t}}function W(n,t){var r=wt(n)?ct:vt(n)?n:ot(n),u=wt(t)?ct:vt(t)?t:ot(t);return function(n){return function(t,e,i){var o=0,c=new Map;n(function(n){return c.set(r(n,o++,i.data),u(n,o++,i.data)),!0},function(n){(isError(n)||!desync(t(c),bt(e,n),e))&&e(n)},i)}}}function Y(){return function(n){return function(t,r,u){var e=new Set;n(function(n){return e.add(n),!0},function(n){(st(n)||!i(t(e),bt(r,n),r))&&r(n)},u)}}}function Z(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new yt(this.emitter,this.sources.concat(t))}function $(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new yt(this.emitter,t)}function nn(n){return new yt(n(this.emitter),this.sources)}function tn(n){return this.chain(x(n))}function rn(n){return this.chain(A(n))}function un(n,t){return this.chain(S(n,t))}function en(n){return this.chain(j(n))}function on(n){return this.chain(O(n))}function cn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(T(t))}function an(n,t){return this.chain(P(n,t))}function fn(n){return this.chain(_(n))}function ln(){return this.chain(D())}function sn(){return this.chain(I())}function vn(){return this.chain(R())}function hn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new yt(this.emitter,t.concat(this.sources))}function dn(n,t,r){return this.chain(k(n,t,r))}function wn(){return this.chain(B())}function bn(n,t,r){vt(t)||(t=at),vt(n)||(n=at);var u=et({},{data:{value:r},flow:{value:this}});try{u.flow.emitter(function(t){return!1!==n(t,r)},function(n){return t(n,r)},u)}catch(e){t(e,r)}return this}function mn(n){return this.chain(q(n))}function pn(n){return this.chain(z(n))}function gn(){return this.chain(H())}function yn(n){return this.chain(Q(n))}function En(n){return this.chain(V(n))}function kn(){return this.chain(F())}function xn(n,t){return this.chain(W(n,t))}function An(){return this.chain(Y())}function Mn(n,t,r){var u=r.flow.sources,e=u.length,i=-1;!function o(c){c!==!0||++i>=e?t(c):s(u[i],!0)(n,o,r)}()}function Nn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new yt(Mn,t)}function Sn(n){return new yt(v(n))}function jn(n){return new yt(h(n))}function On(n,t){return new yt(d(n,t))}function Tn(n){return new yt(o(n))}function Pn(n,t){return new yt(w(n,t))}function _n(n,t,r){return new yt(b(n,t,r))}function Dn(n){return new yt(m(n))}function Fn(n){return new yt(p(n))}Object.defineProperty(t,"__esModule",{value:!0});var In,Rn,Bn="Aeroflow",Cn="Array",Gn="Boolean",Un=Symbol.toStringTag,Xn="Date",qn="Error",zn="Function",Hn=Symbol.iterator,Jn="Null",Kn="Number",Ln="Promise",Qn="prototype",Vn="RegExp",Wn="Symbol",Yn="Undefined",Zn=Date.now,$n=Math.floor,nt=Math.random,tt=Math.max,rt=Number.MAX_SAFE_INTEGER,ut=Object.create,et=Object.defineProperties,it=Object.prototype.toString,ot=function(n){return function(){return n}},ct=function(n){return n},at=function(){},ft=function(n){return it.call(n).slice(8,-1)},lt=function(n){return function(t){return ft(t)===n}},st=lt(qn),vt=lt(zn),ht=Number.isInteger,dt=lt(Kn),wt=function(n){return void 0===n},bt=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return function(){return n.apply(void 0,r)}},mt=function(n,t){return!dt(n)&&(n=+n,isNaN(n))?t:n},pt=ut(null,(In={},u(In,Cn,{value:c,writable:!0}),u(In,Gn,{value:o,writable:!0}),u(In,Xn,{value:o,writable:!0}),u(In,zn,{value:a,writable:!0}),u(In,Kn,{value:o,writable:!0}),u(In,Ln,{value:f,writable:!0}),u(In,Vn,{value:o,writable:!0}),In)),gt=new Set([Gn,Jn,Kn,Wn,Yn]),yt=function kt(n,t){r(this,kt),et(this,{emitter:{value:n},sources:{value:t}})},Et=ut(Object[Qn],{count:{value:tn,writable:!0},delay:{value:rn,writable:!0},dump:{value:un,writable:!0},every:{value:en,writable:!0},filter:{value:on,writable:!0},group:{value:cn,writable:!0},join:{value:an,writable:!0},map:{value:fn,writable:!0},max:{value:ln,writable:!0},mean:{value:sn,writable:!0},min:{value:vn,writable:!0},reduce:{value:dn,writable:!0},reverse:{value:wn,writable:!0},skip:{value:mn,writable:!0},some:{value:pn,writable:!0},sum:{value:gn,writable:!0},take:{value:yn,writable:!0},tap:{value:En,writable:!0},toArray:{value:kn,writable:!0},toMap:{value:xn,writable:!0},toSet:{value:An,writable:!0}});yt[Qn]=ut(Et,(Rn={},u(Rn,Un,{value:Bn}),u(Rn,"append",{value:Z}),u(Rn,"bind",{value:$}),u(Rn,"chain",{value:nn}),u(Rn,"prepend",{value:hn}),u(Rn,"run",{value:bn}),Rn)),et(Nn,{adapters:{get:function(){return pt}},create:{value:Sn},empty:{enumerable:!0,value:new yt(e())},error:{value:jn},expand:{value:On},just:{value:Tn},operators:{get:function(){return Et}},random:{value:Pn},range:{value:_n},repeat:{value:Dn},timer:{value:Fn}}),t["default"]=Nn,n.exports=t["default"]});