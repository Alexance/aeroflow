!function(n,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var r={exports:{}};t(r,r.exports),n.aeroflow=r.exports}}(this,function(n,t){"use strict";function r(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)}function u(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function e(n,t,r){switch(n){case!0:return!1;case!1:return r(!1),!0}switch(Rt(n)){case bt:n.then(function(n){e(n,t,r)||t(!0)},function(n){return r($t(n))});break;case vt:r(n)}return!0}function i(n){return function(t,r,u){var i=-1;!function o(){for(;++i<n.length;)if(e(t(n[i]),o,r))return;r(!0)}()}}function o(n){return function(t,r){r(n)}}function c(n){return function(t,r,u){return n.emitter(t,r,Tt({},{data:{value:u.data},sources:{value:n.sources}}))}}function a(n){return function(t,r,u){e(t(n(u.data)),r,r)||r(!0)}}function f(n,t){return!At.has(t)&&dt in n?function(t,r,u){var i=void 0,o=n[dt]();!function c(){for(;!(i=o.next()).done;)if(e(t(i.value),c,r))return;r(!0)}()}:void 0}function l(n){return function(t,r,u){return n.then(function(n){e(t(n),r,r)||r(!0)},function(n){return r($t(n))})}}function s(n){return function(t,r){e(t(n),r,r)||r(!0)}}function v(n){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],r=Rt(n),u=nr[r];if(Xt(u))return u(n);for(var e=-1,i=nr.length;++e<i;)if(u=nr[e](n,r),Xt(u))return u;return t?s(n):void 0}function h(n,t){return Xt(n)?{done:Yt(t,Ft),next:n}:void 0}function d(n){var t=arguments.length<=1||void 0===arguments[1]?"next":arguments[1],r=arguments.length<=2||void 0===arguments[2]?"done":arguments[2];if(zt(n)&&Xt(n.emit)){var u=function(t){return function(r){return n.emit(t,r)}};return{done:u(r),next:u(t)}}}function g(n){var t=arguments.length<=1||void 0===arguments[1]?"next":arguments[1],r=arguments.length<=2||void 0===arguments[2]?"done":arguments[2];if(zt(n)&&Xt(n.dispatchEvent)){var u=function(t){return function(r){return n.dispatchEvent(new CustomEvent(t,{detail:r}))}};return{done:u(r),next:u(t)}}}function m(n){return zt(n)&&Xt(n.onNext)&&Xt(n.onError)&&Xt(n.onCompleted)?{done:function(t){return(Ut(t)?n.onError:n.onCompleted)(t)},next:function(t){return n.onNext(t)}}:void 0}function b(n,t){var u=tr[Rt(n)];if(u&&(u=u.apply(void 0,[n].concat(r(t)))),!rr(u))for(var e=-1,i=tr.length;++e<i&&(u=tr[e].apply(tr,[n].concat(r(t))),!rr(u));)u=null;return u?function(n){return function(t,r,e){var i=0;n(function(n){return u.next(n,i++,e.data),t(n)},function(n){return u.done(n,e.data),r(n)},e)}}:Dt}function w(n){return function(t,r){return r(n)}}function p(n){return Jt(n)?w(!0):Xt(n)?function(t,r,u){function i(n){if(a=!1,n)for(;c.length;)if(e(t(c.shift()),i,o))return void(a=!0);l&&o(n)}function o(n){l=!0,Xt(f)&&setImmediate(f),r(n&&c.result)}var c=[],a=!1,f=void 0,l=!1;f=n(function(n){return l?!1:(c.push(n),a||i(!0),!0)},function(n){return l?!1:(l=!0,c.result=Jt(n)||n,a||i(!0),!0)},u.data)}:s(n)}function y(n,t){return n=Yt(n),function(r,u,i){var o=0,c=t;!function a(){for(;!e(r(c=n(c,o++,i.data)),a,u););}()}}function x(n,t){t=Zt(t,1-Et(10,-15)),n=Zt(n,0),t-=n;var r=qt(n)&&qt(t)?Pt:Dt;return function(u,i){!function o(){for(;!e(u(r(n+t*Nt())),o,i););}()}}function k(n,t,r){if(t=Zt(t,jt),n=Zt(n,0),n===t)return s(n);var u=t>n;if(u){if(r=Zt(r,1),1>r)return s(n)}else if(r=Zt(r,-1),r>-1)return s(n);var i=u?function(n){return t>=n}:function(n){return n>=t};return function(t,u,o){var c=n-r;!function a(){for(;i(c+=r);)if(e(t(c),a,u))return;u(!0)}()}}function A(n,t){return function(r,u,i){var o=-1;!function c(a){setTimeout(function(){e(r(n(o,i.data)),c,u)||c()},Wt(t(++o,i.data),1e3))}()}}function S(n){return function(t,r,u){var i=0;!function o(){for(;!e(t(n(i++,u.data)),o,r););}()}}function P(n,t){var r=Yt(n);return Lt(t)?A(r,Yt(t)):S(r)}function E(n,t,r){if(Jt(n))n=Dt,t=_t();else{if(!Xt(n))return Kt(s,n);t=Yt(t)}return function(u){return function(i,o,c){var a=!r,f=0,l=t();u(function(t){return a&&(a=!1,Jt(l))?(l=t,!0):(l=n(l,t,f++,c.data),!0)},function(n){(Ut(n)||a||!e(i(l),Kt(o,n),o))&&o(n)},c)}}}function N(n){return E(function(n,t,r){return(n*r+t)/(r+1)},0)}function M(n){return n=Yt(n,n||[]),function(t){return function(r,u,e){return t(r,function(t){return Ut(t)?v(n(t,e.data))(r,u,e):u(t)},e)}}}function j(n){return n.length?function(t){return function(r,u,e){function i(t){!Ut(t)&&c&&a<n.length?v(n[a++])(o,i,e):u(t)}function o(n){return c=!1,r(n)}var c=!0,a=0;t(o,i,e)}}:Dt}function O(){return E(function(n){return n+1},0,!0)}function T(n){var t=Yt(n);return function(n){return function(r,u,i){var o=0;return n(function(n){return new Promise(function(u,c){setTimeout(function(){try{e(r(n),u,c)||u(!0)}catch(t){c(t)}},Wt(t(n,o++,i.data),1e3))})},u,i)}}}function C(n){return function(t){return n?function(n,r,u){var e=!0,i=void 0;t(function(t){return e||i!==t?(e=!1,i=t,n(t)):!0},r,u)}:function(n,r,u){var e=new Set;t(function(t){return e.has(t)?!0:(e.add(t),n(t))},r,u)}}}function I(n){return function(t){return function(r,u,e){return t(function(t){return console.log(n+"next",t),r(t)},function(t){console[Ut(t)?"error":"log"](n+"done",t),u(t)},e)}}}function _(n,t){return function(r){return function(u,e,i){return r(function(r){return t(n+"next",r),u(r)},function(r){t(n+"done",r),e(r)},i)}}}function D(n,t){return Xt(n)?_("",n):Xt(t)?_(n,t):I(Jt(n)?"":n)}function F(n){var t=void 0;switch(Rt(n)){case ht:t=n;break;case pt:t=function(t){return n.test(t)};break;case kt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,i){var o=!0,c=!0;n(function(n){return o=!1,t(n)?!0:(c=!1,!1)},function(n){(Ut(n)||!e(r(c||o),u,u))&&u(n)},i)}}}function R(n){var t=void 0;switch(Rt(n)){case ht:t=n;break;case pt:t=function(t){return n.test(t)};break;case kt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var i=0;n(function(n){return!t(n,i++,e.data)||r(n)},u,e)}}}function B(n){return n=Zt(n,jt),1>n?Dt:function(t){return function(r,u,e){var i=0,o=function c(t){if(i===n)return r(t);var u=v(t,!1);return u?(i++,new Promise(function(n){return u(c,function(t){i--,n(t)},e)})):r(t)};t(o,u,e)}}}function G(n){n=n.length?n.map(Yt):[_t];var t=n.length-1;return function(r){return function(u,e,i){var o=new Map,c=0;r(function(r){for(var u=o,e=void 0,a=-1;++a<=t;){var f=n[a](r,c++,i.data);e=u.get(f),e||(e=a===t?[]:new Map,u.set(f,e)),u=e}return e.push(r),!0},function(n){Ut(n)?e(n):f(o)(u,Kt(e,n),i)},i)}}}function L(){return function(n){return function(t,r,u){var i=[];n(function(n){return i.push(n),!0},function(n){(Ut(n)||!e(t(i),Kt(r,n),r))&&r(n)},u)}}}function U(n){return Jt(n)?Dt:(n=Yt(n),function(t){return function(r,u,e){var i=0;t(function(t){return r(n(t,i++,e.data))},u,e)}})}function X(n,t){var r=Yt(t,Vt),u=L()(v(n));return function(n){return function(t,e,o){return u(function(u){return new Promise(function(e){return n(function(n){return new Promise(function(e){var c=i(u),a=R(function(t){return r(n,t)}),f=U(function(t){return[n,t]});return f(a(c))(t,e,o)})},e,o)})},e,o)}}}function q(){return E(function(n,t){return t>n?t:n})}function z(){return function(n){return function(t,r,u){return L()(n)(function(n){return n.length?(n.sort(),t(n[Pt(n.length/2)])):!0},r,u)}}}function H(){return E(function(n,t){return n>t?t:n})}function J(n,t){var r=Yt(n);return function(u){return function(i,o,c){var a=St(),f=[],l=t?function(n){var t=St(),r={delay:t-a,result:n};return a=t,r}:function(n){return{delay:0,result:n}};u(function(n){return f.push(l(n)),i(n)},function(t){Ut(t)?o(t):!function(){var t=-1;!function u(a){if(!e(a,u,Kt(o,a))){t=(t+1)%f.length;var l=f[t];n=t?l.delay:l.delay+Zt(r(c.data),0),(n?setTimeout:setImmediate)(function(){e(i(l.result),u,u)||u(!0)},n)}}(!0)}()},c)}}}function K(n){return n=Zt(n,1),n?function(t){return function(r,u,e){function i(){t(r,o,e)}function o(t){++c<=n&&Ut(t)?i():u(t)}var c=0;i()}}:Dt}function Q(){return function(n){return function(t,r,u){return L()(n)(function(n){return new Promise(function(r){var u=n.length;!function i(){for(;--u>=0&&!e(t(n[u]),i,r););r(!0)}()})},r,u)}}}function V(){return function(n){return function(t,r,u){return n(Vt,r,u)}}}function W(n){return function(t){return function(r,u,e){var i=-1;t(function(t){return++i<n||r(t)},u,e)}}}function Y(n){return function(t){return function(r,u,e){var o=[];t(function(n){return o.push(n),!0},function(t){Ut(t)?u(t):n>=o.length?u(t):i(o.slice(0,-n))(r,u,e)},e)}}}function Z(n){return function(t){return function(r,u,e){var i=0,o=!0;t(function(t){return o&&!n(t,i++,e.data)&&(o=!1),o||r(t)},u,e)}}}function $(n){switch(Rt(n)){case mt:return n>0?W(n):0>n?Y(-n):Dt;case ht:return Z(n);case kt:return V();default:return n?V():Dt}}function nn(n,t){return n=Zt(n,0),t=Zt(t,jt),0>n||0>t?function(r){return function(u,i,o){return L()(r)(function(r){var i=0>n?r.length+n:n,o=0>t?r.length+t:Mt(r.length,t);return 0>i&&(i=0),0>o&&(o=0),i>=o||new Promise(function(n){!function t(){for(;!e(u(r[i++]),t,n)&&o>i;);n(!0)}()})},i,o)}}:function(r){return function(u,e,i){var o=-1;r(function(r){return++o<n||t>o&&u(r)},e,i)}}}function tn(n){var t=void 0;switch(Rt(n)){case ht:t=n;break;case pt:t=function(t){return n.test(t)};break;case kt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,i){var o=!1;n(function(n){return t(n)?(o=!0,!1):!0},function(n){(Ut(n)||!e(r(o),u,u))&&u(n)},i)}}}function rn(n){for(var t=[],r=[],u=1,e=-1,o=n.length;++e<o;){var c=n[e];switch(Rt(c)){case ht:r.push(c),t.push(u);continue;case mt:c=c>0?1:-1;break;case yt:c="desc"===c.toLowerCase()?-1:1;break;default:c=c?1:-1}t.length?t[t.length-1]=c:u=c}var a=r.length?function(n,u){for(var e=void 0,i=-1,o=r.length;++i<o;){var c=r[i];if(e=It(c(n),c(u),t[i]))break}return e}:function(n,t){return It(n,t,u)};return function(n){return function(t,r,u){return L()(n)(function(n){return new Promise(function(r){return i(n.sort(a))(t,r,u)})},r,u)}}}function un(){return E(function(n,t){return+t+n},0)}function en(n){return function(t){return function(r,u,e){var i=0;t(function(t){return++i<n?r(t):(t=r(t),Gt(t)?!1:Ht(t)?t.then(Qt):t)},u,e)}}}function on(n){return function(t){return function(r,u,e){var o=[];t(function(t){return o.length>=n&&o.shift(),o.push(t),!0},function(n){Ut(n)?u(n):i(o)(r,u,e)},e)}}}function cn(n){return function(t){return function(r,u,e){var i=0;t(function(t){return n(t,i++,e.data)&&r(t)},u,e)}}}function an(n){switch(Rt(n)){case mt:return n>0?en(n):0>n?on(-n):Kt(w,!1);case ht:return cn(n);default:return n?Dt:Kt(w,!1)}}function fn(n){return function(t){return Xt(n)?function(r,u,e){var i=0;t(function(t){return n(t,i++,e.data),r(t)},u,e)}:t}}function ln(n,t){return n=Jt(n)?Dt:Yt(n),t=Jt(t)?Dt:Yt(t),function(r){return function(u,i,o){var c=new Map,a=0;r(function(r){return c.set(n(r,a++,o.data),t(r,a++,o.data)),!0},function(n){(Ut(n)||!e(u(c),Kt(i,n),i))&&i(n)},o)}}}function sn(){return function(n){return function(t,r,u){var i=new Set;n(function(n){return i.add(n),!0},function(n){(Ut(n)||!e(t(i),Kt(r,n),r))&&r(n)},u)}}}function vn(n){return n=Yt(n,n||","),E(function(t,r,u,e){return t.length?t+n(r,u,e)+r:""+r},"",!0)}function hn(n,t,r){var u=-1;!function e(i){if(i!==!0||++u>=r.sources.length)t(i);else try{var o=r.sources[u];v(o)(n,e,r)}catch(c){t(c)}}(!0)}function dn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new xn(hn,t)}function gn(n){return new xn(p(n))}function mn(n,t){return new xn(y(n,t))}function bn(n){return new xn(s(n))}function wn(n,t){return new xn(x(n,t))}function pn(n,t,r){return new xn(k(n,t,r))}function yn(n,t){return new xn(P(n,t))}function xn(n,t){Tt(this,{emitter:{value:n},sources:{value:t}})}function kn(){return this.chain(N())}function An(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new xn(this.emitter,t)}function Sn(n){return this.chain(M(n))}function Pn(n){return new xn(n(this.emitter),this.sources)}function En(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(j(t))}function Nn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new xn(this.emitter,this.sources.concat(t))}function Mn(){return this.chain(O())}function jn(n){return this.chain(T(n))}function On(n){return this.chain(C(n))}function Tn(n,t){return this.chain(D(n,t))}function Cn(n){return this.chain(F(n))}function In(n){return this.chain(R(n))}function _n(n){return this.chain(B(n))}function Dn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(G(t))}function Fn(n,t){return this.chain(X(n,t))}function Rn(n){return this.chain(U(n))}function Bn(){return this.chain(q())}function Gn(){return this.chain(z())}function Ln(){return this.chain(H())}function Un(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return this.chain(b(n,r))}function Xn(n,t){return this.chain(E(n,t,Lt(t)))}function qn(n,t){return this.chain(J(n,t))}function zn(n){return this.chain(K(n))}function Hn(){return this.chain(Q())}function Jn(n){var t=this;return new Promise(function(r,u){t.emitter(Vt,function(n){return Ut(n)?u(n):r(t)},Tt({},{data:{value:n},sources:{value:t.sources}}))})}function Kn(n){return this.chain($(n))}function Qn(n,t){return this.chain(nn(n,t))}function Vn(n){return this.chain(tn(n))}function Wn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(rn(t))}function Yn(){return this.chain(un())}function Zn(n){return this.chain(an(n))}function $n(n){return this.chain(fn(n))}function nt(){return this.chain(L())}function tt(n,t){return this.chain(ln(n,t))}function rt(){return this.chain(sn())}function ut(n){return this.chain(vn(n))}Object.defineProperty(t,"__esModule",{value:!0});var et,it,ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},ct="Aeroflow",at="Array",ft="Boolean",lt=Symbol.toStringTag,st="Date",vt="Error",ht="Function",dt=Symbol.iterator,gt="Null",mt="Number",bt="Promise",wt="prototype",pt="RegExp",yt="String",xt="Symbol",kt="Undefined",At=new Set([ft,gt,mt,yt,xt,kt]),St=Date.now,Pt=Math.floor,Et=Math.pow,Nt=Math.random,Mt=Math.min,jt=Number.MAX_SAFE_INTEGER,Ot=Object.create,Tt=Object.defineProperties,Ct=Object.prototype.toString,It=function(n,t,r){return t>n?-r:n>t?r:0},_t=function(n){return function(){return n}},Dt=function(n){return n},Ft=function(){},Rt=function(n){return Ct.call(n).slice(8,-1)},Bt=function(n){return function(t){return Rt(t)===n}},Gt=function(n){return n===!0||n===!1},Lt=function(n){return void 0!==n},Ut=Bt(vt),Xt=function(n){return"function"==typeof n},qt=Number.isInteger,zt=function(n){return null!=n&&"object"===("undefined"==typeof n?"undefined":ot(n))},Ht=Bt(bt),Jt=function(n){return void 0===n},Kt=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return function(){return n.apply(void 0,r)}},Qt=function(){return!1},Vt=function(){return!0},Wt=function(n,t){switch(Rt(n)){case st:n-=St();break;case mt:break;default:n=+n}return isNaN(n)?t:0>n?0:n},Yt=function(n,t){return Xt(n)?n:Lt(t)?Xt(t)?t:_t(t):_t(n)},Zt=function(n,t){return n=+n,isNaN(n)?t:n},$t=function(n){return Ut(n)?n:new Error(n)},nr=[f];Tt(nr,(et={},u(et,ct,{value:c}),u(et,at,{configurable:!0,value:i,writable:!0}),u(et,vt,{configurable:!0,value:o,writable:!0}),u(et,ht,{configurable:!0,value:a,writable:!0}),u(et,bt,{configurable:!0,value:l,writable:!0}),et));var tr=[d,g,m];Tt(tr,u({},ht,{configurable:!0,value:h,writable:!0}));var rr=function(n){return zt(n)&&Xt(n.done)&&Xt(n.next)},ur=Ot(Object[wt],{average:{value:kn,writable:!0},"catch":{value:Sn,writable:!0},coalesce:{value:En,writable:!0},count:{value:Mn,writable:!0},delay:{value:jn,writable:!0},distinct:{value:On,writable:!0},dump:{value:Tn,writable:!0},every:{value:Cn,writable:!0},filter:{value:In,writable:!0},flatten:{value:_n,writable:!0},group:{value:Dn,writable:!0},join:{value:Fn,writable:!0},map:{value:Rn,writable:!0},max:{value:Bn,writable:!0},mean:{value:Gn,writable:!0},min:{value:Ln,writable:!0},reduce:{value:Xn,writable:!0},replay:{value:qn,writable:!0},retry:{value:zn,writable:!0},reverse:{value:Hn,writable:!0},skip:{value:Kn,writable:!0},slice:{value:Qn,writable:!0},some:{value:Vn,writable:!0},sort:{value:Wn,writable:!0},sum:{value:Yn,writable:!0},take:{value:Zn,writable:!0},tap:{value:$n,writable:!0},toArray:{value:nt,writable:!0},toMap:{value:tt,writable:!0},toSet:{value:rt,writable:!0},toString:{value:ut,writable:!0}});xn[wt]=Ot(ur,(it={},u(it,lt,{value:ct}),u(it,"bind",{value:An}),u(it,"chain",{value:Pn}),u(it,"concat",{value:Nn}),u(it,"notify",{value:Un}),u(it,"run",{value:Jn}),it)),Tt(dn,{adapters:{value:nr},create:{value:gn},empty:{enumerable:!0,value:new xn(w(!0))},expand:{value:mn},just:{value:bn},notifiers:{value:tr},operators:{value:ur},random:{value:wn},range:{value:pn},repeat:{value:yn},"return":{value:bn}}),t["default"]=dn,n.exports=t["default"]});