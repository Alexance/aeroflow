!function(n,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var r={exports:{}};t(r,r.exports),n.aeroflow=r.exports}}(this,function(n,t){"use strict";function r(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function u(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)}function e(){function n(n){for(var t=r[Nt(n)],u=arguments.length,e=Array(u>1?u-1:0),i=1;u>i;i++)e[i-1]=arguments[i];if(It(t))return t.apply(void 0,[n].concat(e));for(var o=r.length;o--;)if(t=r[o].apply(r,[n].concat(e)),It(t))return t}function t(n,t){switch(Nt(n)){case ot:r.push(n);break;case at:It(t)?r.splice(n,0,t):r.splice(n,1);break;case vt:It(t)?r[n]=t:delete r[n]}return r}var r=[];return xt(r,{get:{value:n},use:{value:t}})}function i(n,t,r){switch(n){case!0:return!1;case!1:return r(!1),!0}switch(Nt(n)){case ft:n.then(function(n){i(n,t,r)||t(!0)},function(n){return r(Bt(n))});break;case it:r(n)}return!0}function o(n){return function(t,r,u){var e=-1;!function o(){for(;++e<n.length;)if(i(t(n[e]),o,r))return;r(!0)}()}}function c(n){return function(t,r){r(n)}}function a(n){return function(t,r,u){return n.emitter(t,r,xt({},{data:{value:u.data},sources:{value:n.sources}}))}}function f(n){return function(t,r,u){i(t(n(u.data)),r,r)||r(!0)}}function s(n){return Dt(n)&&ct in n?function(t,r,u){var e=n[ct]();!function o(){for(var n=void 0;!(n=e.next()).done;)if(i(t(n.value),o,r))return;r(!0)}()}:void 0}function l(n){return function(t,r,u){return n.then(function(n){i(t(n),r,r)||r(!0)},function(n){return r(Bt(n))})}}function v(n){return function(t,r){i(t(n),r,r)||r(!0)}}function h(n){return function(t,r){return r(n)}}function d(n){return Rt(n)?h(!0):It(n)?function(t,r,u){function e(n){if(a=!1,n)for(;c.length;)if(i(t(c.shift()),e,o))return void(a=!0);s&&o(n)}function o(n){s=!0,It(f)&&setImmediate(f),r(n&&c.result)}var c=[],a=!1,f=void 0,s=!1;f=n(function(n){return s?!1:(c.push(n),a||e(!0),!0)},function(n){return s?!1:(s=!0,c.result=Rt(n)||n,a||e(!0),!0)},u.data)}:v(n)}function g(n,t){return n=qt(n),function(r,u,e){var o=0,c=t;!function a(){for(;!i(r(c=n(c,o++,e.data)),a,u););}()}}function m(n,t){t=zt(t,1-mt(10,-15)),n=zt(n,0),t-=n;var r=_t(n)&&_t(t)?gt:Pt;return function(u,e){!function o(){for(;!i(u(r(n+t*bt())),o,e););}()}}function b(n,t,r){if(t=zt(t,wt),n=zt(n,0),n===t)return v(n);var u=t>n;if(u){if(r=zt(r,1),1>r)return v(n)}else if(r=zt(r,-1),r>-1)return v(n);var e=u?function(n){return t>=n}:function(n){return n>=t};return function(t,u,o){var c=n-r;!function a(){for(;e(c+=r);)if(i(t(c),a,u))return;u(!0)}()}}function p(n,t){return function(r,u,e){var o=-1;!function c(a){setTimeout(function(){i(r(n(o,e.data)),c,u)||c()},Xt(t(++o,e.data),1e3))}()}}function w(n){return function(t,r,u){var e=0;!function o(){for(;!i(t(n(e++,u.data)),o,r););}()}}function y(n,t){var r=qt(n);return Tt(t)?p(r,qt(t)):w(r)}function x(n,t,r){if(Rt(n))n=Pt,t=Et();else{if(!It(n))return Gt(v,n);t=qt(t)}return function(u){return function(e,o,c){var a=!r,f=0,s=t(c.data);u(function(t){return a&&(a=!1,Rt(s))?(s=t,!0):(s=n(s,t,f++,c.data),!0)},function(n){(Ct(n)||a||!i(e(s),Gt(o,n),o))&&o(n)},c)}}}function k(n){return x(function(n,t,r){return(n*r+t)/(r+1)},0)}function A(n){return Tt(n)?(n=qt(n),function(t){return function(r,u,e){return t(r,function(t){if(Ct(t)){var i=n(t,e.data),o=Ht.get(i);o||(o=v(i)),o(r,Gt(u,!1),e)}else u(t)},e)}}):function(n){return function(t,r,u){return n(t,function(n){return r(!Ct(n)&&n)},u)}}}function S(n){return Tt(n)?(n=qt(n),function(t){return function(r,u,e){var i=!0;t(function(n){return i=!1,r(n)},function(t){if(!Ct(t)&&i){var o=n(e.data),c=Ht.get(o);c||(c=v(o)),c(r,u,e)}else u(t)},e)}}):Pt}function E(){return x(function(n){return n+1},0,!0)}function P(n){var t=qt(n);return function(n){return function(r,u,e){var o=0;return n(function(n){return new Promise(function(u,c){setTimeout(function(){try{i(r(n),u,c)||u(!0)}catch(t){c(t)}},Xt(t(n,o++,e.data),1e3))})},u,e)}}}function M(n){return function(t){return n?function(n,r,u){var e=!0,i=void 0;t(function(t){return e||i!==t?(e=!1,i=t,n(t)):!0},r,u)}:function(n,r,u){var e=new Set;t(function(t){return e.has(t)?!0:(e.add(t),n(t))},r,u)}}}function N(n){return function(t){return function(r,u,e){return t(function(t){return console.log(n+"next",t),r(t)},function(t){console[Ct(t)?"error":"log"](n+"done",t),u(t)},e)}}}function j(n,t){return function(r){return function(u,e,i){return r(function(r){return t(n+"next",r),u(r)},function(r){t(n+"done",r),e(r)},i)}}}function O(n,t){return It(n)?j("",n):It(t)?j(n,t):N(Rt(n)?"":n)}function T(n){var t=void 0;switch(Nt(n)){case ot:t=n;break;case lt:t=function(t){return n.test(t)};break;case ht:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var o=!0,c=!0,a=0;n(function(n){return o=!1,t(n,a++,e.data)?!0:c=!1},function(n){(Ct(n)||!i(r(c||o),u,u))&&u(n)},e)}}}function C(n){var t=void 0;switch(Nt(n)){case ot:t=n;break;case lt:t=function(t){return n.test(t)};break;case ht:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var i=0;n(function(n){return!t(n,i++,e.data)||r(n)},u,e)}}}function I(n){return n=zt(n,wt),1>n?Pt:function(t){return function(r,u,e){var i=0,o=function c(t){if(i===n)return r(t);var u=Ht.get(t);return u?(i++,new Promise(function(n){return u(c,function(t){i--,n(t)},e)})):r(t)};t(o,u,e)}}}function _(n){n=n.length?n.map(qt):[Et];var t=n.length-1;return function(r){return function(u,e,i){var o=new Map,c=0;r(function(r){for(var u=o,e=void 0,a=-1;++a<=t;){var f=n[a](r,c++,i.data);e=u.get(f),e||(e=a===t?[]:new Map,u.set(f,e)),u=e}return e.push(r),!0},function(n){Ct(n)?e(n):s(o)(u,Gt(e,n),i)},i)}}}function D(n){return Rt(n)?Pt:(n=qt(n),function(t){return function(r,u,e){var i=0;t(function(t){return r(n(t,i++,e.data))},u,e)}})}function F(){return x(function(n,t){return t>n?t:n})}function R(){return function(n){return function(t,r,u){var e=[];n(function(n){return e.push(n),!0},function(n){(Ct(n)||!i(t(e),Gt(r,n),r))&&r(n)},u)}}}function G(){return function(n){return function(t,r,u){return R()(n)(function(n){return n.length?(n.sort(),t(n[gt(n.length/2)])):!0},r,u)}}}function L(){return x(function(n,t){return n>t?t:n})}function U(n){var t=arguments.length<=1||void 0===arguments[1]?"next":arguments[1],r=arguments.length<=2||void 0===arguments[2]?"done":arguments[2];if(Dt(n)&&It(n.emit)){var u=function(t){return function(r){return n.emit(t,r)}};return{done:u(r),next:u(t)}}}function X(n){var t=arguments.length<=1||void 0===arguments[1]?"next":arguments[1],r=arguments.length<=2||void 0===arguments[2]?"done":arguments[2];if(Dt(n)&&It(n.dispatchEvent)){var u=function(t){return function(r){return n.dispatchEvent(new CustomEvent(t,{detail:r}))}};return{done:u(r),next:u(t)}}}function q(n){return Dt(n)&&It(n.onNext)&&It(n.onError)&&It(n.onCompleted)?{done:function(t){return(Ct(t)?n.onError:n.onCompleted)(t)},next:function(t){return n.onNext(t)}}:void 0}function z(n,t){return function(r){return function(e,i,o){var c=Jt.get.apply(Jt,[n].concat(u(t)));Dt(c)&&It(c.next)?!function(){var n=0;r(function(t){return c.next(t,n++,o.data),e(t)},function(n){return It(c.done)&&c.done(n,o.data),i(n)},o)}():r(e,i,o)}}}function B(n,t){var r=qt(n);return function(u){return function(e,o,c){var a=dt(),f=[],s=t?function(n){var t=dt(),r={delay:t-a,result:n};return a=t,r}:function(n){return{delay:0,result:n}};u(function(n){return f.push(s(n)),e(n)},function(t){Ct(t)?o(t):!function(){var t=-1;!function u(a){if(!i(a,u,Gt(o,a))){t=(t+1)%f.length;var s=f[t];n=t?s.delay:s.delay+zt(r(c.data),0),(n?setTimeout:setImmediate)(function(){i(e(s.result),u,u)||u(!0)},n)}}(!0)}()},c)}}}function H(n){return n=zt(n,1),n?function(t){return function(r,u,e){function i(){t(r,o,e)}function o(t){++c<=n&&Ct(t)?i():u(t)}var c=0;i()}}:Pt}function J(){return function(n){return function(t,r,u){return R()(n)(function(n){return new Promise(function(r){var u=n.length;!function e(){for(;--u>=0&&!i(t(n[u]),e,r););r(!0)}()})},r,u)}}}function K(){return function(n){return function(t,r,u){return n(Ut,r,u)}}}function Q(n){return function(t){return function(r,u,e){var i=-1;t(function(t){return++i<n||r(t)},u,e)}}}function V(n){return function(t){return function(r,u,e){var i=[];t(function(n){return i.push(n),!0},function(t){Ct(t)?u(t):n>=i.length?u(t):o(i.slice(0,-n))(r,u,e)},e)}}}function W(n){return function(t){return function(r,u,e){var i=0,o=!0;t(function(t){return o&&!n(t,i++,e.data)&&(o=!1),o||r(t)},u,e)}}}function Y(n){switch(Nt(n)){case at:return n>0?Q(n):0>n?V(-n):Pt;case ot:return W(n);case ht:return K();default:return n?K():Pt}}function Z(n,t){return n=zt(n,0),t=zt(t,wt),0>n||0>t?function(r){return function(u,e,o){return R()(r)(function(r){var e=0>n?r.length+n:n,o=0>t?r.length+t:pt(r.length,t);return 0>e&&(e=0),0>o&&(o=0),e>=o||new Promise(function(n){!function t(){for(;!i(u(r[e++]),t,n)&&o>e;);n(!0)}()})},e,o)}}:function(r){return function(u,e,i){var o=-1;r(function(r){return++o<n||t>o&&u(r)},e,i)}}}function $(n){var t=void 0;switch(Nt(n)){case ot:t=n;break;case lt:t=function(t){return n.test(t)};break;case ht:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var o=!1,c=0;n(function(n){return t(n,c++,e.data)?(o=!0,!1):!0},function(n){(Ct(n)||!i(r(o),u,u))&&u(n)},e)}}}function nn(n){for(var t=[],r=[],u=1,e=-1,i=n.length;++e<i;){var c=n[e];switch(Nt(c)){case ot:r.push(c),t.push(u);continue;case at:c=c>0?1:-1;break;case vt:c="desc"===c.toLowerCase()?-1:1;break;default:c=c?1:-1}t.length?t[t.length-1]=c:u=c}var a=r.length?function(n,u){for(var e=void 0,i=-1,o=r.length;++i<o;){var c=r[i];if(e=St(c(n),c(u),t[i]))break}return e}:function(n,t){return St(n,t,u)};return function(n){return function(t,r,u){return R()(n)(function(n){return new Promise(function(r){return o(n.sort(a))(t,r,u)})},r,u)}}}function tn(){return x(function(n,t){return+t+n},0)}function rn(n){return function(t){return function(r,u,e){var i=0;t(function(t){return++i<n?r(t):(t=r(t),Ot(t)?!1:Ft(t)?t.then(Lt):t)},u,e)}}}function un(n){return function(t){return function(r,u,e){var i=[];t(function(t){return i.length>=n&&i.shift(),i.push(t),!0},function(n){Ct(n)?u(n):o(i)(r,u,e)},e)}}}function en(n){return function(t){return function(r,u,e){var i=0;t(function(t){return n(t,i++,e.data)&&r(t)},u,e)}}}function on(n){switch(Nt(n)){case at:return n>0?rn(n):0>n?un(-n):Gt(h,!1);case ot:return en(n);case ht:return Pt;default:return n?Pt:Gt(h,!1)}}function cn(n,t){return n=Rt(n)?Pt:qt(n),t=Rt(t)?Pt:qt(t),function(r){return function(u,e,o){var c=new Map,a=0;r(function(r){return c.set(n(r,a++,o.data),t(r,a++,o.data)),!0},function(n){(Ct(n)||!i(u(c),Gt(e,n),e))&&e(n)},o)}}}function an(){return function(n){return function(t,r,u){var e=new Set;n(function(n){return e.add(n),!0},function(n){(Ct(n)||!i(t(e),Gt(r,n),r))&&r(n)},u)}}}function fn(n){return n=qt(n,n||","),x(function(t,r,u,e){return t.length?t+n(r,u,e)+r:""+r},"",!0)}function sn(){return this.chain(k())}function ln(n){return this.chain(A(n))}function vn(n){return this.chain(S(n))}function hn(){return this.chain(E())}function dn(n){return this.chain(P(n))}function gn(n){return this.chain(M(n))}function mn(n,t){return this.chain(O(n,t))}function bn(n){return this.chain(T(n))}function pn(n){return this.chain(C(n))}function wn(n){return this.chain(I(n))}function yn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(_(t))}function xn(n){return this.chain(D(n))}function kn(){return this.chain(F())}function An(){return this.chain(G())}function Sn(){return this.chain(L())}function En(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return this.chain(z(n,r))}function Pn(n,t){return this.chain(x(n,t,Tt(t)))}function Mn(n,t){return this.chain(B(n,t))}function Nn(n){return this.chain(H(n))}function jn(){return this.chain(J())}function On(n){return this.chain(Y(n))}function Tn(n,t){return this.chain(Z(n,t))}function Cn(n){return this.chain($(n))}function In(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(nn(t))}function _n(){return this.chain(tn())}function Dn(n){return this.chain(on(n))}function Fn(){return this.chain(R())}function Rn(n,t){return this.chain(cn(n,t))}function Gn(){return this.chain(an())}function Ln(n){return this.chain(fn(n))}function Un(){}function Xn(n,t){return xt(new Un,{emitter:{value:n},sources:{value:t}})}function qn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return Xn(this.emitter,t)}function zn(n){return Xn(n(this.emitter),this.sources)}function Bn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return Xn(this.emitter,this.sources.concat(t))}function Hn(n,t,r){var u=this;return It(n)?It(t)||(r=t,t=Mt):(r=n,t=n=Mt),new Promise(function(e,i){var o=void 0;u.emitter(function(t){return o=t,n(t,r)!==!1},function(n){t(n,r),Ct(n)?i(n):e(o)},xt({},{data:{value:r},sources:{value:u.sources}}))})}function Jn(n){return Xn(d(n))}function Kn(n,t){return Xn(g(n,t))}function Qn(n,t){return Xn(m(n,t))}function Vn(n,t,r){return Xn(b(n,t,r))}function Wn(n,t){return Xn(y(n,t))}function Yn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return Xn(function(n,t,r){var u=-1;!function e(i){if(i!==!0||++u>=r.sources.length)t(i);else try{var o=r.sources[u],c=Ht.get(o);c||(c=Ht.def(o)),c(n,e,r)}catch(a){t(a)}}(!0)},t)}function Zn(n){return Xn(Ht.def(n))}Object.defineProperty(t,"__esModule",{value:!0});var $n,nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},tt="Aeroflow",rt="Array",ut=Symbol.toStringTag,et="Date",it="Error",ot="Function",ct=Symbol.iterator,at="Number",ft="Promise",st="prototype",lt="RegExp",vt="String",ht="Undefined",dt=Date.now,gt=Math.floor,mt=Math.pow,bt=Math.random,pt=Math.min,wt=Number.MAX_SAFE_INTEGER,yt=Object.create,xt=Object.defineProperties,kt=Object.defineProperty,At=Object.prototype.toString,St=function(n,t,r){return t>n?-r:n>t?r:0},Et=function(n){return function(){return n}},Pt=function(n){return n},Mt=function(){},Nt=function(n){return At.call(n).slice(8,-1)},jt=function(n){return function(t){return Nt(t)===n}},Ot=function(n){return n===!0||n===!1},Tt=function(n){return void 0!==n},Ct=jt(it),It=function(n){return"function"==typeof n},_t=Number.isInteger,Dt=function(n){return null!=n&&"object"===("undefined"==typeof n?"undefined":nt(n))},Ft=jt(ft),Rt=function(n){return void 0===n},Gt=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return function(){return n.apply(void 0,r)}},Lt=function(){return!1},Ut=function(){return!0},Xt=function(n,t){switch(Nt(n)){case et:n-=dt();break;case at:break;default:n=+n}return isNaN(n)?t:0>n?0:n},qt=function(n,t){return It(n)?n:Tt(t)?It(t)?t:Et(t):Et(n)},zt=function(n,t){return n=+n,isNaN(n)?t:n},Bt=function(n){return Ct(n)?n:new Error(n)},Ht=e().use(s).use(tt,a).use(rt,o).use(it,c).use(ot,f).use(ft,l);kt(Ht,"def",{value:v});var Jt=e().use(q).use(X).use(U),Kt=yt(Object[st],{average:{value:sn,writable:!0},"catch":{value:ln,writable:!0},coalesce:{value:vn,writable:!0},count:{value:hn,writable:!0},delay:{value:dn,writable:!0},distinct:{value:gn,writable:!0},dump:{value:mn,writable:!0},every:{value:bn,writable:!0},filter:{value:pn,writable:!0},flatten:{value:wn,writable:!0},group:{value:yn,writable:!0},map:{value:xn,writable:!0},max:{value:kn,writable:!0},mean:{value:An,writable:!0},min:{value:Sn,writable:!0},notify:{value:En,writable:!0},reduce:{value:Pn,writable:!0},replay:{value:Mn,writable:!0},retry:{value:Nn,writable:!0},reverse:{value:jn,writable:!0},skip:{value:On,writable:!0},slice:{value:Tn,writable:!0},some:{value:Cn,writable:!0},sort:{value:In,writable:!0},sum:{value:_n,writable:!0},take:{value:Dn,writable:!0},toArray:{value:Fn,writable:!0},toMap:{value:Rn,writable:!0},toSet:{value:Gn,writable:!0},toString:{value:Ln,writable:!0}});Un[st]=yt(Kt,($n={},r($n,ut,{value:tt}),r($n,"bind",{value:qn}),r($n,"chain",{value:zn}),r($n,"concat",{value:Bn}),r($n,"run",{value:Hn}),$n));var Qt=Xn(h(!0));xt(Yn,{adapters:{value:Ht},create:{value:Jn},empty:{enumerable:!0,value:Qt},expand:{value:Kn},just:{value:Zn},notifiers:{value:Jt},operators:{value:Kt},random:{value:Qn},range:{value:Vn},repeat:{value:Wn}}),t["default"]=Yn,n.exports=t["default"]});