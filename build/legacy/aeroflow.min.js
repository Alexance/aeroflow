!function(n,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var r={exports:{}};t(r,r.exports),n.aeroflow=r.exports}}(this,function(n,t){"use strict";function r(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function u(n,t,r){switch(n){case!0:return!1;case!1:return r(!1),!0}switch(Nt(n)){case ct:n.then(function(n){u(n,t,r)||t(!0)},function(n){return r(qt(n))});break;case rt:r(n)}return!0}function e(n){return function(t,r,e){var i=-1;!function o(){for(;++i<n.length;)if(u(t(n[i]),o,r))return;r(!0)}()}}function i(n){return function(t,r){r(n)}}function o(n){return function(t,r,u){return n.emitter(t,r,kt({},{data:{value:u.data},sources:{value:n.sources}}))}}function c(n){return function(t,r,e){u(t(n(e.data)),r,r)||r(!0)}}function f(n,t){return!ht.has(t)&&et in n?function(t,r,e){var i=void 0,o=o=n[et]();!function c(){for(;!(i=o.next()).done;)if(u(t(i.value),c,r))return;r(!0)}()}:void 0}function a(n){return function(t,r,e){return n.then(function(n){u(t(n),r,r)||r(!0)},function(n){return r(qt(n))})}}function l(n,t){var r=Nt(n),u=zt[r];if(_t(u))return u(n);for(var e=-1,i=zt.length;++e<i;)if(u=zt[e](n,r),_t(u))return u;return t}function s(n){return function(t,r){u(t(n),r,r)||r(!0)}}function v(n){return function(t,r){return r(n)}}function h(n){return Rt(n)?v(!0):_t(n)?function(t,r,e){function i(n){a=!0,_t(l)&&setTimeout(l,0),r(n&&c.result)}function o(n){if(f=!1,n)for(;c.length;)if(u(t(c.shift()),o,i))return void(f=!0);i(n)}var c=[],f=!1,a=!1,l=void 0;l=n(function(n){return a?!1:(c.push(n),f||o(!0),!0)},function(n){return a?!1:(a=!0,c.result=Rt(n)||n,f||o(!0),!0)},e.data)}:s(n)}function d(n,t){return n=Ut(n),function(r,e,i){var o=0,c=t;!function f(){for(;!u(r(c=n(c,o++,i.data)),f,e););}()}}function w(n,t){t=Xt(t,1-bt(10,-15)),n=Xt(n,0),t-=n;var r=It(n)&&It(t)?wt:At;return function(e,i){!function o(){for(;!u(e(r(n+t*gt())),o,i););}()}}function b(n,t,r){if(t=Xt(t,pt),n=Xt(n,0),n===t)return s(n);var e=t>n;if(e){if(r=Xt(r,1),1>r)return s(n)}else if(r=Xt(r,-1),r>-1)return s(n);var i=e?function(n){return t>=n}:function(n){return n>=t};return function(t,e,o){var c=n-r;!function f(){for(;i(c+=r);)if(u(t(c),f,e))return;e(!0)}()}}function g(n,t){return function(r,e,i){var o=-1;!function c(f){setTimeout(function(){u(r(n(o,i.data)),c,e)||c()},Lt(t(++o,i.data),1e3))}()}}function m(n){return function(t,r,e){var i=0;!function o(){for(;!u(t(n(i++,e.data)),o,r););}()}}function p(n,t){var r=Ut(n);return Ot(t)?g(r,Ut(t)):m(r)}function y(n,t,r){return Rt(n)?Bt(v,!1):_t(n)?function(e){return function(i,o,c){var f=!r,a=0,l=t;e(function(t){return f&&(f=!1,Rt(l))?(l=t,!0):(l=n(l,t,a++,c.data),!0)},function(n){(Tt(n)||f||!u(i(l),Bt(o,n),o))&&o(n)},c)}}:Bt(s,n)}function k(n){return y(function(n,t,r){return(n*r+t)/(r+1)},0)}function x(n){var t=Ot(n)?l(n,s(n)):v(!1);return function(n){return function(r,u,e){return n(r,function(n){return Tt(n)?t(r,u,e):u(n)},e)}}}function P(){return y(function(n){return n+1},0,!0)}function S(n){var t=Ut(n);return function(n){return function(r,e,i){var o=0;return n(function(n){return new Promise(function(e,c){setTimeout(function(){try{u(r(n),e,c)||e(!0)}catch(t){c(t)}},Lt(t(n,o++,i.data),1e3))})},e,i)}}}function A(n){return function(t){return n?function(n,r,u){var e=!0,i=void 0;t(function(t){return e||i!==t?(e=!1,i=t,n(t)):!0},r,u)}:function(n,r,u){var e=new Set;t(function(t){return e.has(t)?!0:(e.add(t),n(t))},r,u)}}}function M(n){return function(t){return function(r,u,e){return t(function(t){return console.log(n+"next",t),r(t)},function(t){console[Tt(t)?"error":"log"](n+"done",t),u(t)},e)}}}function N(n,t){return function(r){return function(u,e,i){return r(function(r){return t(n+"next",r),u(r)},function(r){t(n+"done",r),e(r)},i)}}}function j(n,t){return _t(n)?N("",n):_t(t)?N(n,t):M(Rt(n)?"":n)}function E(n){var t=void 0;switch(Nt(n)){case ut:t=n;break;case at:t=function(t){return n.test(t)};break;case vt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,e,i){var o=!0,c=!0;n(function(n){return o=!1,t(n)?!0:(c=!1,!1)},function(n){(Tt(n)||!u(r(c||o),e,e))&&e(n)},i)}}}function O(n){var t=void 0;switch(Nt(n)){case ut:t=n;break;case at:t=function(t){return n.test(t)};break;case vt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var i=0;n(function(n){return!t(n,i++,e.data)||r(n)},u,e)}}}function T(n){return n=Xt(n,pt),1>n?At:function(t){return function(r,u,e){var i=0,o=function c(t){if(i===n)return r(t);var u=l(t);return u?(i++,new Promise(function(n){return u(c,function(t){i--,n(t)},e)})):r(t)};t(o,u,e)}}}function _(n){n=n.length?n.map(Ut):[St];var t=n.length-1;return function(r){return function(u,e,i){var o=new Map,c=0;r(function(r){for(var u=o,e=void 0,f=-1;++f<=t;){var a=n[f](r,c++,i.data);e=u.get(a),e||(e=f===t?[]:new Map,u.set(a,e)),u=e}return e.push(r),!0},function(n){Tt(n)?e(n):f(o)(u,Bt(e,n),i)},i)}}}function I(n){return function(t){return function(r,e,i){var o=[],c=!n;t(function(n){return c=!1,o.push(n),!0},function(n){(Tt(n)||c||!u(r(o),Bt(e,n),e))&&e(n)},i)}}}function D(n){if(Rt(n))return At;var t=_t(n)?n:St(n);return function(n){return function(r,u,e){var i=0;n(function(n){return r(t(n,i++,e.data))},u,e)}}}function F(n,t){var r=Ut(t,Gt),u=I()(l(n,s(n)));return function(n){return function(t,i,o){return u(function(u){return new Promise(function(i){return n(function(n){return new Promise(function(i){var c=e(u),f=O(function(t){return r(n,t)}),a=D(function(t){return[n,t]});return a(f(c))(t,i,o)})},i,o)})},i,o)}}}function R(n){return y(function(n,t){return t>n?t:n})}function B(){return function(n){return function(t,r,u){return I()(n)(function(n){return n.length?(n.sort(),t(n[wt(n.length/2)])):!0},r,u)}}}function C(){return y(function(n,t){return n>t?t:n})}function G(n,t){var r=Ut(n);return function(e){return function(i,o,c){var f=dt(),a=[],l=t?function(n){var t=dt(),r={delay:t-f,result:n};return f=t,r}:function(n){return{delay:0,result:n}};e(function(n){return a.push(l(n)),i(n)},function(t){Tt(t)?o(t):!function(){var t=-1;!function e(f){if(!u(f,e,Bt(o,f))){t=(t+1)%a.length;var l=a[t];n=t?l.delay:l.delay+Xt(r(c.data),0),(n?setTimeout:setImmediate)(function(){u(i(l.result),e,e)||e(!0)},n)}}(!0)}()},c)}}}function L(n){return n=Xt(n,1),n?function(t){return function(r,u,e){function i(){t(r,o,e)}function o(t){++c<=n&&Tt(t)?i():u(t)}var c=0;i()}}:At}function U(){return function(n){return function(t,r,e){return I()(n)(function(n){return new Promise(function(r){var e=n.length;!function i(){for(;--e>=0&&!u(t(n[e]),i,r););r(!0)}()})},r,e)}}}function X(){return function(n){return function(t,r,u){return n(Gt,r,u)}}}function q(n){return function(t){return function(r,u,e){var i=-1;t(function(t){return++i<n||r(t)},u,e)}}}function z(n){return function(t){return function(r,u,i){var o=[];t(function(n){return o.push(n),!0},function(t){Tt(t)?u(t):n>=o.length?u(t):e(o.slice(0,-n))(r,u,i)},i)}}}function H(n){return function(t){return function(r,u,e){var i=0,o=!0;t(function(t){return o&&!n(t,i++,e.data)&&(o=!1),o||r(t)},u,e)}}}function J(n){switch(Nt(n)){case ot:return n>0?q(n):0>n?z(-n):At;case ut:return H(n);case vt:return X();default:return n?X():At}}function K(n,t){return n=Xt(n,0),t=Xt(t,pt),0>n||0>t?function(r){return function(e,i,o){return I()(r)(function(r){var i=0>n?r.length+n:n,o=0>t?r.length+t:mt(r.length,t);return 0>i&&(i=0),0>o&&(o=0),i>=o||new Promise(function(n){!function t(){for(;!u(e(r[i++]),t,n)&&o>i;);n(!0)}()})},i,o)}}:function(r){return function(u,e,i){var o=-1;r(function(r){return++o<n||t>o&&u(r)},e,i)}}}function Q(n){var t=void 0;switch(Nt(n)){case ut:t=n;break;case at:t=function(t){return n.test(t)};break;case vt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,e,i){var o=!1;n(function(n){return t(n)?(o=!0,!1):!0},function(n){(Tt(n)||!u(r(o),e,e))&&e(n)},i)}}}function V(n){for(var t=[],r=[],u=1,i=-1,o=n.length;++i<o;){var c=n[i];switch(Nt(c)){case ut:r.push(c),t.push(u);continue;case ot:c=c>0?1:-1;break;case lt:c="desc"===c.toLowerCase()?-1:1;break;default:c=c?1:-1}t.length?t[t.length-1]=c:u=c}var f=r.length?function(n,u){for(var e=void 0,i=-1,o=r.length;++i<o;){var c=r[i];if(e=Pt(c(n),c(u),t[i]))break}return e}:function(n,t){return Pt(n,t,u)};return function(n){return function(t,r,u){return I()(n)(function(n){return new Promise(function(r){return e(n.sort(f))(t,r,u)})},r,u)}}}function W(){return y(function(n,t){return+t+n},0)}function Y(n){return function(t){return function(r,u,e){var i=0;t(function(t){return++i<n?r(t):(t=r(t),Et(t)?!1:Ft(t)?t.then(Ct):t)},u,e)}}}function Z(n){return function(t){return function(r,u,i){var o=[];t(function(t){return o.length>=n&&o.shift(),o.push(t),!0},function(n){Tt(n)?u(n):e(o)(r,u,i)},i)}}}function $(n){return function(t){return function(r,u,e){var i=0;t(function(t){return n(t,i++,e.data)&&r(t)},u,e)}}}function nn(n){switch(Nt(n)){case ot:return n>0?Y(n):0>n?Z(-n):Bt(v,!1);case ut:return $(n);default:return n?At:Bt(v,!1)}}function tn(n){return function(t){return _t(n)?function(r,u,e){var i=0;t(function(t){return n(t,i++,e.data),r(t)},u,e)}:t}}function rn(n,t,r){return n=Rt(n)?At:Ut(n),t=Rt(t)?At:Ut(t),function(e){return function(i,o,c){var f=!r,a=0,l=new Map;e(function(r){return f=!1,l.set(n(r,a++,c.data),t(r,a++,c.data)),!0},function(n){(Tt(n)||f||!u(i(l),Bt(o,n),o))&&o(n)},c)}}}function un(n){return function(t){return function(r,e,i){var o=!n,c=new Set;t(function(n){return o=!1,c.add(n),!0},function(n){(Tt(n)||o||!u(r(c),Bt(e,n),e))&&e(n)},i)}}}function en(n,t){var r=void 0;switch(Nt(n)){case ut:r=n;break;case $n:Rt(t)&&(t=n);case vt:n=",";default:r=St(n)}return y(function(n,t,u,e){return n.length?n+r(t,u,e)+t:""+t},"",t)}function on(n,t,r){var u=-1;!function e(i){if(i!==!0||++u>=r.sources.length)t(i);else try{var o=r.sources[u],c=l(o,s(o));c(n,e,r)}catch(f){t(f)}}(!0)}function cn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new dn(on,t)}function fn(n){return new dn(h(n))}function an(n,t){return new dn(d(n,t))}function ln(n){return new dn(s(n))}function sn(n,t){return new dn(w(n,t))}function vn(n,t,r){return new dn(b(n,t,r))}function hn(n,t){return new dn(p(n,t))}function dn(n,t){kt(this,{emitter:{value:n},sources:{value:t}})}function wn(){return this.chain(k())}function bn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new dn(this.emitter,t)}function gn(n){return this.chain(x(n))}function mn(n){return new dn(n(this.emitter),this.sources)}function pn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new dn(this.emitter,this.sources.concat(t))}function yn(){return this.chain(P())}function kn(n){return this.chain(S(n))}function xn(n){return this.chain(A(n))}function Pn(n,t){return this.chain(j(n,t))}function Sn(n){return this.chain(E(n))}function An(n){return this.chain(O(n))}function Mn(n){return this.chain(T(n))}function Nn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(_(t))}function jn(n,t){return this.chain(F(n,t))}function En(n){return this.chain(D(n))}function On(){return this.chain(R())}function Tn(){return this.chain(B())}function _n(){return this.chain(C())}function In(n,t,r){return this.chain(y(n,t,r))}function Dn(n,t){return this.chain(G(n,t))}function Fn(n){return this.chain(L(n))}function Rn(){return this.chain(U())}function Bn(n,t,r){var u=this;_t(n)?_t(t)||(r=t,t=Mt):(r=n,t=n=Mt);var e=kt({},{data:{value:r},sources:{value:this.sources}});return new Promise(function(i,o){return u.emitter(function(t){return!1!==n(t,r)},function(n){try{t(n,r)}catch(u){n=u}(Tt(n)?o:i)(n)},e)})}function Cn(n){return this.chain(J(n))}function Gn(n,t){return this.chain(K(n,t))}function Ln(n){return this.chain(Q(n))}function Un(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(V(t))}function Xn(){return this.chain(W())}function qn(n){return this.chain(nn(n))}function zn(n){return this.chain(tn(n))}function Hn(n){return this.chain(I(n))}function Jn(n,t,r){return this.chain(rn(n,t))}function Kn(n){return this.chain(un(n))}function Qn(n,t){return this.chain(en(n,t))}Object.defineProperty(t,"__esModule",{value:!0});var Vn,Wn,Yn="Aeroflow",Zn="Array",$n="Boolean",nt=Symbol.toStringTag,tt="Date",rt="Error",ut="Function",et=Symbol.iterator,it="Null",ot="Number",ct="Promise",ft="prototype",at="RegExp",lt="String",st="Symbol",vt="Undefined",ht=new Set([$n,it,ot,at,lt,st,vt]),dt=Date.now,wt=Math.floor,bt=Math.pow,gt=Math.random,mt=Math.min,pt=Number.MAX_SAFE_INTEGER,yt=Object.create,kt=Object.defineProperties,xt=Object.prototype.toString,Pt=function(n,t,r){return t>n?-r:n>t?r:0},St=function(n){return function(){return n}},At=function(n){return n},Mt=function(){},Nt=function(n){return xt.call(n).slice(8,-1)},jt=function(n){return function(t){return Nt(t)===n}},Et=function(n){return n===!0||n===!1},Ot=function(n){return void 0!==n},Tt=jt(rt),_t=function(n){return"function"==typeof n},It=Number.isInteger,Dt=jt(ot),Ft=jt(ct),Rt=function(n){return void 0===n},Bt=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return function(){return n.apply(void 0,r)}},Ct=function(){return!1},Gt=function(){return!0},Lt=function(n,t){switch(Nt(n)){case tt:n-=dt();break;case ot:break;default:n=+n}return isNaN(n)?t:0>n?0:n},Ut=function(n,t){return _t(n)?n:Ot(t)?t:St(n)},Xt=function(n,t){return!Dt(n)&&(n=+n,isNaN(n))?t:n},qt=function(n){return Tt(n)?n:new Error(n)},zt=kt([f],(Vn={},r(Vn,Yn,{value:o}),r(Vn,Zn,{configurable:!0,value:e,writable:!0}),r(Vn,rt,{configurable:!0,value:i,writable:!0}),r(Vn,ut,{configurable:!0,value:c,writable:!0}),r(Vn,ct,{configurable:!0,value:a,writable:!0}),Vn)),Ht=yt(Object[ft],{average:{value:wn,writable:!0},"catch":{value:gn,writable:!0},count:{value:yn,writable:!0},delay:{value:kn,writable:!0},distinct:{value:xn,writable:!0},dump:{value:Pn,writable:!0},every:{value:Sn,writable:!0},filter:{value:An,writable:!0},flatten:{value:Mn,writable:!0},group:{value:Nn,writable:!0},join:{value:jn,writable:!0},map:{value:En,writable:!0},max:{value:On,writable:!0},mean:{value:Tn,writable:!0},min:{value:_n,writable:!0},reduce:{value:In,writable:!0},replay:{value:Dn,writable:!0},retry:{value:Fn,writable:!0},reverse:{value:Rn,writable:!0},skip:{value:Cn,writable:!0},slice:{value:Gn,writable:!0},some:{value:Ln,writable:!0},sort:{value:Un,writable:!0},sum:{value:Xn,writable:!0},take:{value:qn,writable:!0},tap:{value:zn,writable:!0},toArray:{value:Hn,writable:!0},toMap:{value:Jn,writable:!0},toSet:{value:Kn,writable:!0},toString:{value:Qn,writable:!0}});dn[ft]=yt(Ht,(Wn={},r(Wn,nt,{value:Yn}),r(Wn,"bind",{value:bn}),r(Wn,"chain",{value:mn}),r(Wn,"concat",{value:pn}),r(Wn,"run",{value:Bn}),Wn)),kt(cn,{adapters:{value:zt},create:{value:fn},empty:{enumerable:!0,value:new dn(v(!0))},expand:{value:an},just:{value:ln},operators:{value:Ht},random:{value:sn},range:{value:vn},repeat:{value:hn},"return":{value:ln}}),t["default"]=cn,n.exports=t["default"]});