!function(n,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var r={exports:{}};t(r,r.exports),n.aeroflow=r.exports}}(this,function(n,t){"use strict";function r(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)}function u(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function e(){function n(n){for(var t=r[Xt(n)],u=arguments.length,e=Array(u>1?u-1:0),i=1;u>i;i++)e[i-1]=arguments[i];if(Jt(t))return t.apply(void 0,[n].concat(e));for(var o=r.length;o--;){var c=r[o].apply(r,[n].concat(e));if(c)return c}}function t(n,t){switch(Xt(n)){case pt:r.push(n);break;case wt:Jt(t)?r.splice(n,0,t):r.splice(n,1);break;case At:case Et:Jt(t)?r[n]=t:delete r[n]}return r}var r=[];return Dt(r,{get:{value:n},use:{value:t}})}function i(n,t,r){switch(n){case!0:return!1;case!1:return r(!1),!0}return Vt(n)?n.then(function(n){i(n,t,r)||t(!0)},function(n){return r(er(n))}):(r(n),!0)}function o(n){return function(t,r,u){var e=-1;!function o(){for(;++e<n.length;)if(i(t(n[e]),o,r))return;r(!0)}()}}function c(n){return function(t,r){r(n)}}function f(n){return n[dt]}function a(n){return function(t,r,u){i(t(n()),r,r)||r(!0)}}function s(n){return Qt(n)&&yt in n?function(t,r,u){var e=n[yt]();!function o(){for(var n=void 0;!(n=e.next()).done;)if(i(t(n.value),o,r))return;r(!0)}()}:void 0}function v(n){return function(t,r,u){return n.then(function(n){i(t(n),r,r)||r(!0)},function(n){return r(er(n))})}}function h(n){return function(t,r){i(t(n),r,r)||r(!0)}}function l(n){return function(t,r,u){var e=-1;!function i(o){if(o!==!0||++e>=n.length)r(o);else try{var c=n[e];(ir.get(c)||h(c))(t,i,u)}catch(f){r(f)}}(!0)}}function g(n,t){function r(){for(f=!1;s.length;){var n=i(s.pop()(),r,e);switch(n){case!1:v=!0;continue;case!0:return void(v=!1);default:return f=!0,void(v=n)}}}function e(n){return a?!1:(a=!0,s.push(Zt(t,n)),void(f||r()))}function o(t){return a?!1:(s.push(Zt(n,t)),f||r(),v)}var c,f=!1,a=!1,s=[],v=!0;return c={},u(c,gt,e),u(c,bt,o),c}function d(n){return function(t,r){return r(n)}}function m(n){return Yt(n)?d(!0):Jt(n)?function(t,r,u){var e=g(t,r,u),i=e[gt],o=e[bt],c=rr(n(o,function(n){i(Yt(n)?!0:n),c()}))}:h(n)}function p(n,t){return n=rr(n),function(r,u,e){var o=0,c=t;!function f(){for(;!i(r(c=n(c,o++)),f,u););}()}}function y(n,t){t=ur(t,1-Lt(10,-15)),n=ur(n,0),t-=n;var r=Kt(n)&&Kt(t)?jt:Ut;return function(u,e){!function o(){for(;!i(u(r(n+t*Nt())),o,e););}()}}function b(n,t,r){if(t=ur(t,_t),n=ur(n,0),n===t)return h(n);var u=t>n;if(u){if(r=ur(r,1),1>r)return h(n)}else if(r=ur(r,-1),r>-1)return h(n);var e=u?function(n){return t>=n}:function(n){return n>=t};return function(t,u,o){var c=n-r;!function f(){for(;e(c+=r);)if(i(t(c),f,u))return;u(!0)}()}}function w(n,t){return function(r,u,e){var o=0;!function c(e){setTimeout(function(){i(r(n(o++)),c,u)||c()},tr(t(o),1e3))}()}}function k(n){return function(t,r,u){var e=0;!function o(){for(;!i(t(n(e++)),o,r););}()}}function x(n,t){return n=rr(n),Bt(t)?w(n,rr(t)):k(n)}function S(n){var t=arguments.length<=1||void 0===arguments[1]?"next":arguments[1];return Qt(n)&&Jt(n.addListener)&&Jt(n.removeListener)?function(r){return n.addListener(t,r),function(){return n.removeListener(t,r)}}:void 0}function A(n){var t=arguments.length<=1||void 0===arguments[1]?"next":arguments[1],r=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return Qt(n)&&Jt(n.addEventListener)&&Jt(n.removeEventListener)?function(u){return n.addEventListener(t,u,r),function(){return n.removeEventListener(t,u,r)}}:void 0}function E(n,t){var u=or.get.apply(or,[n].concat(r(t)));return Jt(u)?function(n,t,r){var e=g(n,t),i=e[gt],o=e[bt],c=rr(u(function(n){!1===o(n)&&(i(!1),c())},function(n){i(!1),c()}))}:d(!0)}function M(n){var t,r=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(Qt(n)){var e=n.log,i=n.error;if(Jt(e))return t={},u(t,gt,function(t){return(Ht(t)&&Jt(i)?i:e).call(n,r+"done",t)}),u(t,bt,function(t){return e.call(n,r+"next",t)}),t}}function P(n){var t,r=arguments.length<=1||void 0===arguments[1]?"next":arguments[1],e=arguments.length<=2||void 0===arguments[2]?"done":arguments[2];if(Qt(n)&&Jt(n.emit)){var i=function(t){return function(r){return n.emit(t,r)}};return t={},u(t,gt,i(e)),u(t,bt,i(r)),t}}function j(n){var t,r=arguments.length<=1||void 0===arguments[1]?"next":arguments[1],e=arguments.length<=2||void 0===arguments[2]?"done":arguments[2];if(Qt(n)&&Jt(n.dispatchEvent)){var i=function(t){return function(r){return n.dispatchEvent(new CustomEvent(t,{detail:r}))}};return t={},u(t,gt,i(e)),u(t,bt,i(r)),t}}function L(n,t){return function(u){return function(e,i,o){var c=cr.get.apply(cr,[n].concat(r(t)));if(Qt(c)){var f=function(){var n=c[gt],t=c[bt];return Jt(t)?{v:u(function(n){return t(n),e(n)},function(t){return Jt(n)&&n(t),i(t)},o)}:void 0}();if("object"===("undefined"==typeof f?"undefined":ft(f)))return f.v}u(e,i,o)}}}function N(n,t,r){if(Yt(n))n=Ut,t=Gt();else{if(!Jt(n))return Zt(h,n);t=rr(t)}return function(u){return function(e,o,c){var f=!r,a=0,s=t();u(function(t){return f&&(f=!1,Yt(s))?(s=t,!0):(s=n(s,t,a++),!0)},function(n){(Ht(n)||f||!i(e(s),Zt(o,n),o))&&o(n)},c)}}}function O(n){return N(function(n,t,r){return(n*r+t)/(r+1)},0)}function T(n){return Bt(n)?(n=rr(n),function(t){return function(r,u,e){return t(r,function(t){if(Ht(t)){var i=n(t);(ir.get(i)||h(i))(r,Zt(u,!1),e)}else u(t)},e)}}):function(n){return function(t,r,u){return n(t,function(n){return r(!Ht(n)&&n)},u)}}}function _(n){return Bt(n)?(n=rr(n),function(t){return function(r,u,e){var i=!0;t(function(n){return i=!1,r(n)},function(t){if(!Ht(t)&&i){var o=n();(ir.get(o)||h(o))(r,u,e)}else u(t)},e)}}):Ut}function C(n){return n.length?function(t){return function(r,u,e){t(r,function(t){t===!0&&l(n)(r,u,e)},e)}}:Ut}function D(){return N(function(n){return n+1},0,!0)}function I(n){var t=rr(n);return function(n){return function(r,u,e){var o=0;return n(function(n){return new Promise(function(u,e){setTimeout(function(){try{i(r(n),u,e)||u(!0)}catch(t){e(t)}},tr(t(n,o++),0))})},u,e)}}}function F(n){return function(t){return n?function(n,r,u){var e=!0,i=void 0;t(function(t){return e||i!==t?(e=!1,i=t,n(t)):!0},r,u)}:function(n,r,u){var e=new Set;t(function(t){return e.has(t)?!0:(e.add(t),n(t))},r,u)}}}function R(n){var t=void 0;switch(Xt(n)){case pt:t=n;break;case St:t=function(t){return n.test(t)};break;case Mt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var o=!0,c=!0,f=0;n(function(n){return o=!1,t(n,f++)?!0:c=!1},function(n){(Ht(n)||!i(r(c||o),u,u))&&u(n)},e)}}}function G(n){var t=void 0;switch(Xt(n)){case pt:t=n;break;case St:t=function(t){return n.test(t)};break;case Mt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var i=0;n(function(n){return!t(n,i++)||r(n)},u,e)}}}function U(n){return n=ur(n,_t),1>n?Ut:function(t){return function(r,u,e){var i=0,o=function c(t){if(i===n)return r(t);var u=ir.get(t);return u?(i++,new Promise(function(n){return u(c,function(t){i--,n(t)},e)})):r(t)};t(o,u,e)}}}function W(n){n=n.length?n.map(rr):[Gt];var t=n.length-1;return function(r){return function(u,e,i){var o=new Map,c=0;r(function(r){for(var u=o,e=void 0,i=-1;++i<=t;){var f=n[i](r,c++);e=u.get(f),e||(e=i===t?[]:new Map,u.set(f,e)),u=e}return e.push(r),!0},function(n){Ht(n)?e(n):s(o)(u,Zt(e,n),i)},i)}}}function X(n){return Yt(n)?Ut:(n=rr(n),function(t){return function(r,u,e){var i=0;t(function(t){return r(n(t,i++))},u,e)}})}function q(){return N(function(n,t){return t>n?t:n})}function z(){return function(n){return function(t,r,u){var e=[];n(function(n){return e.push(n),!0},function(n){(Ht(n)||!i(t(e),Zt(r,n),r))&&r(n)},u)}}}function B(){return function(n){return function(t,r,u){return z()(n)(function(n){return n.length?(n.sort(),t(n[jt(n.length/2)])):!0},r,u)}}}function H(){return N(function(n,t){return n>t?t:n})}function J(n,t){var r=rr(n);return function(u){return function(e,o,c){var f=Pt(),a=[],s=t?function(n){var t=Pt(),r={delay:t-f,result:n};return f=t,r}:function(n){return{delay:0,result:n}};u(function(n){return a.push(s(n)),e(n)},function(t){Ht(t)?o(t):!function(){var t=-1;!function u(c){if(!i(c,u,Zt(o,c))){t=(t+1)%a.length;var f=a[t];n=t?f.delay:f.delay+ur(r(),0),(n?setTimeout:setImmediate)(function(){i(e(f.result),u,u)||u(!0)},n)}}(!0)}()},c)}}}function K(n){return n=ur(n,1),n?function(t){return function(r,u,e){function i(){t(r,o,e)}function o(t){++c<=n&&Ht(t)?i():u(t)}var c=0;i()}}:Ut}function Q(){return function(n){return function(t,r,u){return z()(n)(function(n){return new Promise(function(r){var u=n.length;!function e(){for(;--u>=0&&!i(t(n[u]),e,r););r(!0)}()})},r,u)}}}function V(n){return n=rr(n),function(t){return function(r,u,e){var i=void 0,o=-1;t(function(t){return r(++o?i=n(i,t,o):i=t)},u,e)}}}function Y(){return function(n){var t=new WeakMap;return function(r,u,e){var i=t.get(e);i?i.result?u(i.result):i.callbacks.push(g(r,u)):(t.set(e,i={callbacks:[g(r,u)]}),n(function(n){for(var t=i.callbacks,r=-1,u=t.length;++r<u;)t[r][bt](n)},function(n){i.result=n;for(var t=i.callbacks,r=-1,u=t.length;++r<u;)t[r][gt](n)},e))}}}function Z(){return function(n){return function(t,r,u){return n(nr,r,u)}}}function $(n){return function(t){return function(r,u,e){var i=-1;t(function(t){return++i<n||r(t)},u,e)}}}function nn(n){return function(t){return function(r,u,e){var i=[];t(function(n){return i.push(n),!0},function(t){Ht(t)?u(t):n>=i.length?u(t):o(i.slice(0,-n))(r,u,e)},e)}}}function tn(n){return function(t){return function(r,u,e){var i=0,o=!0;t(function(t){return o&&!n(t,i++)&&(o=!1),o||r(t)},u,e)}}}function rn(n){switch(Xt(n)){case wt:return n>0?$(n):0>n?nn(-n):Ut;case pt:return tn(n);case Mt:return Z();default:return n?Z():Ut}}function un(n,t){return n=ur(n,0),t=ur(t,_t),0>n||0>t?function(r){return function(u,e,o){var c=[];r(function(n){return c.push(n),!0},function(r){Ht(r)?e(r):!function(){var o=Ot(0,n>0?n:c.length+n),f=Ot(t>0?Tt(c.length,t):c.length+t);e=Zt(e,r),!function a(){for(;f>o;)if(i(u(c[o++]),a,e))return;e()}()}()},o)}}:function(r){return function(u,e,i){var o=-1;r(function(r){return++o<n||t>o&&u(r)},e,i)}}}function en(n){var t=void 0;switch(Xt(n)){case pt:t=n;break;case St:t=function(t){return n.test(t)};break;case Mt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var o=!1,c=0;n(function(n){return t(n,c++)?(o=!0,!1):!0},function(n){(Ht(n)||!i(r(o),u,u))&&u(n)},e)}}}function on(n){for(var t=[],r=[],u=1,e=-1,i=n.length;++e<i;){var c=n[e];switch(Xt(c)){case pt:r.push(c),t.push(u);continue;case wt:c=c>0?1:-1;break;case At:c="desc"===c.toLowerCase()?-1:1;break;default:c=c?1:-1}t.length?t[t.length-1]=c:u=c}var f=r.length?function(n,u){for(var e=void 0,i=-1,o=r.length;++i<o;){var c=r[i];if(e=Rt(c(n),c(u),t[i]))break}return e}:function(n,t){return Rt(n,t,u)};return function(n){return function(t,r,u){return z()(n)(function(n){return new Promise(function(r){return o(n.sort(f))(t,r,u)})},r,u)}}}function cn(){return N(function(n,t){return+t+n},0)}function fn(n){return function(t){return function(r,u,e){var i=0;t(function(t){return++i<n?r(t):(t=r(t),zt(t)?!1:Vt(t)?t.then($t):t)},u,e)}}}function an(n){return function(t){return function(r,u,e){var i=[];t(function(t){return i.length>=n&&i.shift(),i.push(t),!0},function(n){Ht(n)?u(n):o(i)(r,u,e)},e)}}}function sn(n){return function(t){return function(r,u,e){var i=0;t(function(t){return n(t,i++)&&r(t)},u,e)}}}function vn(n){switch(Xt(n)){case wt:return n>0?fn(n):0>n?an(-n):Zt(d,!1);case pt:return sn(n);case Mt:return Ut;default:return n?Ut:Zt(d,!1)}}function hn(n,t){return n=Yt(n)?Ut:rr(n),t=Yt(t)?Ut:rr(t),function(r){return function(u,e,o){var c=new Map,f=0;r(function(r){return c.set(n(r,f++),t(r,f++)),!0},function(n){(Ht(n)||!i(u(c),Zt(e,n),e))&&e(n)},o)}}}function ln(){return function(n){return function(t,r,u){var e=new Set;n(function(n){return e.add(n),!0},function(n){(Ht(n)||!i(t(e),Zt(r,n),r))&&r(n)},u)}}}function gn(n){return n=rr(n,n||","),N(function(t,r,u){return t.length?t+n(r,u)+r:""+r},"",!0)}function dn(){}function mn(n,t){return n["_"===t.name[0]?t.name.substring(1):t.name]={configurable:!0,value:t,writable:!0},n}function pn(n){return It(new dn,dt,{value:n})}function yn(){return this.chain(O())}function bn(n){return this.chain(T(n))}function wn(n){return pn(n(this[dt]),this.sources)}function kn(n){return this.chain(_(n))}function xn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(C(t))}function Sn(){return this.chain(D())}function An(n){return this.chain(I(n))}function En(n){return this.chain(F(n))}function Mn(n){return this.chain(R(n))}function Pn(n){return this.chain(G(n))}function jn(n){return this.chain(U(n))}function Ln(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(W(t))}function Nn(n){return this.chain(X(n))}function On(){return this.chain(q())}function Tn(){return this.chain(B())}function _n(){return this.chain(H())}function Cn(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return this.chain(L(n,r))}function Dn(n,t){return this.chain(N(n,t,Bt(t)))}function In(n,t){return this.chain(J(n,t))}function Fn(n){return this.chain(K(n))}function Rn(){return this.chain(Q())}function Gn(n,t){var r=this;return Jt(n)?Jt(t)||(t=Wt):t=n=Wt,ht in this||It(this,ht,{value:{}}),new Promise(function(u,e){var i=0,o=void 0;r[dt](function(t){return o=t,n(t,i++)!==!1},function(n){t(n),Ht(n)?e(n):u(o)},r.context)})}function Un(n){return this.chain(V(n))}function Wn(){return this.chain(Y())}function Xn(n){return this.chain(rn(n))}function qn(n,t){return this.chain(un(n,t))}function zn(n){return this.chain(en(n))}function Bn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(on(t))}function Hn(){return this.chain(cn())}function Jn(n){return this.chain(vn(n))}function Kn(){return this.chain(z())}function Qn(n,t){return this.chain(hn(n,t))}function Vn(){return this.chain(ln())}function Yn(n){return this.chain(gn(n))}function Zn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return t.length?pn(l(t)):ar}function $n(n){return pn(m(n))}function nt(n,t){return pn(p(n,t))}function tt(n){return pn(h(n))}function rt(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return pn(E(n,r))}function ut(n,t){return pn(y(n,t))}function et(n,t,r){return pn(b(n,t,r))}function it(n,t){return pn(x(n,t))}function ot(n,t){return n[t.name]={value:t},n}Object.defineProperty(t,"__esModule",{value:!0});var ct,ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},at="Aeroflow",st="Array",vt=Symbol.toStringTag,ht=Symbol("Context"),lt="Date",gt=Symbol("Done"),dt=Symbol("Emitter"),mt="Error",pt="Function",yt=Symbol.iterator,bt=Symbol("Next"),wt="Number",kt="Promise",xt="prototype",St="RegExp",At="String",Et="Symbol",Mt="Undefined",Pt=Date.now,jt=Math.floor,Lt=Math.pow,Nt=Math.random,Ot=Math.max,Tt=Math.min,_t=Number.MAX_SAFE_INTEGER,Ct=Object.create,Dt=Object.defineProperties,It=Object.defineProperty,Ft=Object.prototype.toString,Rt=function(n,t,r){return t>n?-r:n>t?r:0},Gt=function(n){return function(){return n}},Ut=function(n){return n},Wt=function(){},Xt=function(n){return Ft.call(n).slice(8,-1)},qt=function(n){return function(t){return Xt(t)===n}},zt=function(n){return n===!0||n===!1},Bt=function(n){return void 0!==n},Ht=qt(mt),Jt=function(n){return"function"==typeof n},Kt=Number.isInteger,Qt=function(n){return null!=n&&"object"===("undefined"==typeof n?"undefined":ft(n))},Vt=qt(kt),Yt=function(n){return void 0===n},Zt=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return function(){return n.apply(void 0,r)}},$t=function(){return!1},nr=function(){return!0},tr=function(n,t){switch(Xt(n)){case lt:n-=Pt();break;case wt:break;default:n=+n}return isNaN(n)?t:0>n?0:n},rr=function(n,t){return Jt(n)?n:Bt(t)?Jt(t)?t:Gt(t):Gt(n)},ur=function(n,t){return n=+n,isNaN(n)?t:n},er=function(n){return Ht(n)?n:new Error(n)},ir=e().use(s).use(at,f).use(st,o).use(mt,c).use(pt,a).use(kt,v),or=e().use(S).use(A),cr=e().use(M).use(j).use(P),fr=Ct(Object[xt],[yn,bn,kn,xn,Sn,An,En,Mn,Pn,jn,Ln,Nn,On,Tn,_n,Cn,Dn,In,Fn,Rn,Un,Wn,Xn,qn,zn,Bn,Hn,Jn,Kn,Qn,Vn,Yn].reduce(mn,{}));dn[xt]=Ct(fr,(ct={},u(ct,vt,{value:at}),u(ct,"chain",{value:wn}),u(ct,"run",{value:Gn}),ct));var ar=pn(d(!0));Dt(Zn,[$n,nt,tt,rt,ut,et,it].reduce(ot,{})),Dt(Zn,{adapters:{value:ir},empty:{enumerable:!0,get:function(){return ar}},listeners:{value:or},notifiers:{value:cr},operators:{value:fr}}),t["default"]=Zn,n.exports=t["default"]});