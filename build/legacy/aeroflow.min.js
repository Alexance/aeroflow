!function(n,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var r={exports:{}};t(r,r.exports),n.aeroflow=r.exports}}(this,function(n,t){"use strict";function r(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function u(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)}function e(){function n(n){for(var t=r[Mt(n)],u=arguments.length,e=Array(u>1?u-1:0),i=1;u>i;i++)e[i-1]=arguments[i];if(Tt(t))return t.apply(void 0,[n].concat(e));for(var o=r.length;o--;)if(t=r[o].apply(r,[n].concat(e)),Tt(t))return t}function t(n,t){switch(Mt(n)){case it:r.push(n);break;case ct:Tt(t)?r.splice(n,0,t):r.splice(n,1);break;case lt:Tt(t)?r[n]=t:delete r[n]}return r}var r=[];return yt(r,{get:{value:n},use:{value:t}})}function i(n,t,r){switch(n){case!0:return!1;case!1:return r(!1),!0}switch(Mt(n)){case ft:n.then(function(n){i(n,t,r)||t(!0)},function(n){return r(qt(n))});break;case et:r(n)}return!0}function o(n){return function(t,r,u){var e=-1;!function o(){for(;++e<n.length;)if(i(t(n[e]),o,r))return;r(!0)}()}}function c(n){return function(t,r){r(n)}}function f(n){return function(t,r,u){return n.emitter(t,r,yt({},{data:{value:u.data},sources:{value:n.sources}}))}}function a(n){return function(t,r,u){i(t(n(u.data)),r,r)||r(!0)}}function s(n){return It(n)&&ot in n?function(t,r,u){var e=n[ot]();!function o(){for(var n=void 0;!(n=e.next()).done;)if(i(t(n.value),o,r))return;r(!0)}()}:void 0}function l(n){return function(t,r,u){return n.then(function(n){i(t(n),r,r)||r(!0)},function(n){return r(qt(n))})}}function v(n){return function(t,r){i(t(n),r,r)||r(!0)}}function h(n){var t=arguments.length<=1||void 0===arguments[1]?"next":arguments[1],r=arguments.length<=2||void 0===arguments[2]?"done":arguments[2];if(It(n)&&Tt(n.emit)){var u=function(t){return function(r){return n.emit(t,r)}};return{done:u(r),next:u(t)}}}function d(n){var t=arguments.length<=1||void 0===arguments[1]?"next":arguments[1],r=arguments.length<=2||void 0===arguments[2]?"done":arguments[2];if(It(n)&&Tt(n.dispatchEvent)){var u=function(t){return function(r){return n.dispatchEvent(new CustomEvent(t,{detail:r}))}};return{done:u(r),next:u(t)}}}function g(n){return It(n)&&Tt(n.onNext)&&Tt(n.onError)&&Tt(n.onCompleted)?{done:function(t){return(Ot(t)?n.onError:n.onCompleted)(t)},next:function(t){return n.onNext(t)}}:void 0}function m(n){return function(t,r){return r(n)}}function b(n){return Dt(n)?m(!0):Tt(n)?function(t,r,u){function e(n){if(f=!1,n)for(;c.length;)if(i(t(c.shift()),e,o))return void(f=!0);s&&o(n)}function o(n){s=!0,Tt(a)&&setImmediate(a),r(n&&c.result)}var c=[],f=!1,a=void 0,s=!1;a=n(function(n){return s?!1:(c.push(n),f||e(!0),!0)},function(n){return s?!1:(s=!0,c.result=Dt(n)||n,f||e(!0),!0)},u.data)}:v(n)}function w(n,t){return n=Ut(n),function(r,u,e){var o=0,c=t;!function f(){for(;!i(r(c=n(c,o++,e.data)),f,u););}()}}function p(n,t){t=Xt(t,1-gt(10,-15)),n=Xt(n,0),t-=n;var r=Ct(n)&&Ct(t)?dt:St;return function(u,e){!function o(){for(;!i(u(r(n+t*mt())),o,e););}()}}function y(n,t,r){if(t=Xt(t,wt),n=Xt(n,0),n===t)return v(n);var u=t>n;if(u){if(r=Xt(r,1),1>r)return v(n)}else if(r=Xt(r,-1),r>-1)return v(n);var e=u?function(n){return t>=n}:function(n){return n>=t};return function(t,u,o){var c=n-r;!function f(){for(;e(c+=r);)if(i(t(c),f,u))return;u(!0)}()}}function x(n,t){return function(r,u,e){var o=-1;!function c(f){setTimeout(function(){i(r(n(o,e.data)),c,u)||c()},Lt(t(++o,e.data),1e3))}()}}function k(n){return function(t,r,u){var e=0;!function o(){for(;!i(t(n(e++,u.data)),o,r););}()}}function A(n,t){var r=Ut(n);return jt(t)?x(r,Ut(t)):k(r)}function S(n,t,r){if(Dt(n))n=St,t=At();else{if(!Tt(n))return Ft(v,n);t=Ut(t)}return function(u){return function(e,o,c){var f=!r,a=0,s=t();u(function(t){return f&&(f=!1,Dt(s))?(s=t,!0):(s=n(s,t,a++,c.data),!0)},function(n){(Ot(n)||f||!i(e(s),Ft(o,n),o))&&o(n)},c)}}}function E(n){return S(function(n,t,r){return(n*r+t)/(r+1)},0)}function M(n){return jt(n)?(n=Ut(n),function(t){return function(r,u,e){return t(r,function(t){if(Ot(t)){var i=n(t,e.data),o=zt.get(i);o||(o=v(i)),o(r,Ft(u,!1),e)}else u(t)},e)}}):function(n){return function(t,r,u){return n(t,function(n){return r(!Ot(n)&&n)},u)}}}function N(n){return jt(n)?(n=Ut(n),function(t){return function(r,u,e){var i=!0;t(function(n){return i=!1,r(n)},function(t){if(!Ot(t)&&i){var o=n(e.data),c=zt.get(o);c||(c=v(o)),c(r,u,e)}else u(t)},e)}}):St}function P(){return S(function(n){return n+1},0,!0)}function j(n){var t=Ut(n);return function(n){return function(r,u,e){var o=0;return n(function(n){return new Promise(function(u,c){setTimeout(function(){try{i(r(n),u,c)||u(!0)}catch(t){c(t)}},Lt(t(n,o++,e.data),1e3))})},u,e)}}}function O(n){return function(t){return n?function(n,r,u){var e=!0,i=void 0;t(function(t){return e||i!==t?(e=!1,i=t,n(t)):!0},r,u)}:function(n,r,u){var e=new Set;t(function(t){return e.has(t)?!0:(e.add(t),n(t))},r,u)}}}function T(n){return function(t){return function(r,u,e){return t(function(t){return console.log(n+"next",t),r(t)},function(t){console[Ot(t)?"error":"log"](n+"done",t),u(t)},e)}}}function C(n,t){return function(r){return function(u,e,i){return r(function(r){return t(n+"next",r),u(r)},function(r){t(n+"done",r),e(r)},i)}}}function I(n,t){return Tt(n)?C("",n):Tt(t)?C(n,t):T(Dt(n)?"":n)}function _(n){var t=void 0;switch(Mt(n)){case it:t=n;break;case st:t=function(t){return n.test(t)};break;case vt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var o=!0,c=!0;n(function(n){return o=!1,t(n)?!0:(c=!1,!1)},function(n){(Ot(n)||!i(r(c||o),u,u))&&u(n)},e)}}}function D(n){var t=void 0;switch(Mt(n)){case it:t=n;break;case st:t=function(t){return n.test(t)};break;case vt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var i=0;n(function(n){return!t(n,i++,e.data)||r(n)},u,e)}}}function F(n){return n=Xt(n,wt),1>n?St:function(t){return function(r,u,e){var i=0,o=function c(t){if(i===n)return r(t);var u=zt.get(t);return u?(i++,new Promise(function(n){return u(c,function(t){i--,n(t)},e)})):r(t)};t(o,u,e)}}}function R(n){n=n.length?n.map(Ut):[At];var t=n.length-1;return function(r){return function(u,e,i){var o=new Map,c=0;r(function(r){for(var u=o,e=void 0,f=-1;++f<=t;){var a=n[f](r,c++,i.data);e=u.get(a),e||(e=f===t?[]:new Map,u.set(a,e)),u=e}return e.push(r),!0},function(n){Ot(n)?e(n):s(o)(u,Ft(e,n),i)},i)}}}function G(n){return Dt(n)?St:(n=Ut(n),function(t){return function(r,u,e){var i=0;t(function(t){return r(n(t,i++,e.data))},u,e)}})}function L(){return S(function(n,t){return t>n?t:n})}function U(){return function(n){return function(t,r,u){var e=[];n(function(n){return e.push(n),!0},function(n){(Ot(n)||!i(t(e),Ft(r,n),r))&&r(n)},u)}}}function X(){return function(n){return function(t,r,u){return U()(n)(function(n){return n.length?(n.sort(),t(n[dt(n.length/2)])):!0},r,u)}}}function q(){return S(function(n,t){return n>t?t:n})}function z(n,t){return function(r){return function(e,i,o){var c=Bt.get.apply(Bt,[n].concat(u(t)));It(c)&&Tt(c.next)?!function(){var n=0;r(function(t){return c.next(t,n++,o.data),e(t)},function(n){return Tt(c.done)&&c.done(n,o.data),i(n)},o)}():r(e,i,o)}}}function B(n,t){var r=Ut(n);return function(u){return function(e,o,c){var f=ht(),a=[],s=t?function(n){var t=ht(),r={delay:t-f,result:n};return f=t,r}:function(n){return{delay:0,result:n}};u(function(n){return a.push(s(n)),e(n)},function(t){Ot(t)?o(t):!function(){var t=-1;!function u(f){if(!i(f,u,Ft(o,f))){t=(t+1)%a.length;var s=a[t];n=t?s.delay:s.delay+Xt(r(c.data),0),(n?setTimeout:setImmediate)(function(){i(e(s.result),u,u)||u(!0)},n)}}(!0)}()},c)}}}function H(n){return n=Xt(n,1),n?function(t){return function(r,u,e){function i(){t(r,o,e)}function o(t){++c<=n&&Ot(t)?i():u(t)}var c=0;i()}}:St}function J(){return function(n){return function(t,r,u){return U()(n)(function(n){return new Promise(function(r){var u=n.length;!function e(){for(;--u>=0&&!i(t(n[u]),e,r););r(!0)}()})},r,u)}}}function K(){return function(n){return function(t,r,u){return n(Gt,r,u)}}}function Q(n){return function(t){return function(r,u,e){var i=-1;t(function(t){return++i<n||r(t)},u,e)}}}function V(n){return function(t){return function(r,u,e){var i=[];t(function(n){return i.push(n),!0},function(t){Ot(t)?u(t):n>=i.length?u(t):o(i.slice(0,-n))(r,u,e)},e)}}}function W(n){return function(t){return function(r,u,e){var i=0,o=!0;t(function(t){return o&&!n(t,i++,e.data)&&(o=!1),o||r(t)},u,e)}}}function Y(n){switch(Mt(n)){case ct:return n>0?Q(n):0>n?V(-n):St;case it:return W(n);case vt:return K();default:return n?K():St}}function Z(n,t){return n=Xt(n,0),t=Xt(t,wt),0>n||0>t?function(r){return function(u,e,o){return U()(r)(function(r){var e=0>n?r.length+n:n,o=0>t?r.length+t:bt(r.length,t);return 0>e&&(e=0),0>o&&(o=0),e>=o||new Promise(function(n){!function t(){for(;!i(u(r[e++]),t,n)&&o>e;);n(!0)}()})},e,o)}}:function(r){return function(u,e,i){var o=-1;r(function(r){return++o<n||t>o&&u(r)},e,i)}}}function $(n){var t=void 0;switch(Mt(n)){case it:t=n;break;case st:t=function(t){return n.test(t)};break;case vt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var o=!1;n(function(n){return t(n)?(o=!0,!1):!0},function(n){(Ot(n)||!i(r(o),u,u))&&u(n)},e)}}}function nn(n){for(var t=[],r=[],u=1,e=-1,i=n.length;++e<i;){var c=n[e];switch(Mt(c)){case it:r.push(c),t.push(u);continue;case ct:c=c>0?1:-1;break;case lt:c="desc"===c.toLowerCase()?-1:1;break;default:c=c?1:-1}t.length?t[t.length-1]=c:u=c}var f=r.length?function(n,u){for(var e=void 0,i=-1,o=r.length;++i<o;){var c=r[i];if(e=kt(c(n),c(u),t[i]))break}return e}:function(n,t){return kt(n,t,u)};return function(n){return function(t,r,u){return U()(n)(function(n){return new Promise(function(r){return o(n.sort(f))(t,r,u)})},r,u)}}}function tn(){return S(function(n,t){return+t+n},0)}function rn(n){return function(t){return function(r,u,e){var i=0;t(function(t){return++i<n?r(t):(t=r(t),Pt(t)?!1:_t(t)?t.then(Rt):t)},u,e)}}}function un(n){return function(t){return function(r,u,e){var i=[];t(function(t){return i.length>=n&&i.shift(),i.push(t),!0},function(n){Ot(n)?u(n):o(i)(r,u,e)},e)}}}function en(n){return function(t){return function(r,u,e){var i=0;t(function(t){return n(t,i++,e.data)&&r(t)},u,e)}}}function on(n){switch(Mt(n)){case ct:return n>0?rn(n):0>n?un(-n):Ft(m,!1);case it:return en(n);case vt:return St;default:return n?St:Ft(m,!1)}}function cn(n,t){return n=Dt(n)?St:Ut(n),t=Dt(t)?St:Ut(t),function(r){return function(u,e,o){var c=new Map,f=0;r(function(r){return c.set(n(r,f++,o.data),t(r,f++,o.data)),!0},function(n){(Ot(n)||!i(u(c),Ft(e,n),e))&&e(n)},o)}}}function fn(){return function(n){return function(t,r,u){var e=new Set;n(function(n){return e.add(n),!0},function(n){(Ot(n)||!i(t(e),Ft(r,n),r))&&r(n)},u)}}}function an(n){return n=Ut(n,n||","),S(function(t,r,u,e){return t.length?t+n(r,u,e)+r:""+r},"",!0)}function sn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new bn(function(n,t,r){var u=-1;!function e(i){if(i!==!0||++u>=r.sources.length)t(i);else try{var o=r.sources[u],c=zt.get(o);c||(c=v(o)),c(n,e,r)}catch(f){t(f)}}(!0)},t)}function ln(n){return new bn(b(n))}function vn(n,t){return new bn(w(n,t))}function hn(n){return new bn(v(n))}function dn(n,t){return new bn(p(n,t))}function gn(n,t,r){return new bn(y(n,t,r))}function mn(n,t){return new bn(A(n,t))}function bn(n,t){yt(this,{emitter:{value:n},sources:{value:t}})}function wn(){return this.chain(E())}function pn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new bn(this.emitter,t)}function yn(n){return this.chain(M(n))}function xn(n){return new bn(n(this.emitter),this.sources)}function kn(n){return this.chain(N(n))}function An(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new bn(this.emitter,this.sources.concat(t))}function Sn(){return this.chain(P())}function En(n){return this.chain(j(n))}function Mn(n){return this.chain(O(n))}function Nn(n,t){return this.chain(I(n,t))}function Pn(n){return this.chain(_(n))}function jn(n){return this.chain(D(n))}function On(n){return this.chain(F(n))}function Tn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(R(t))}function Cn(n){return this.chain(G(n))}function In(){return this.chain(L())}function _n(){return this.chain(X())}function Dn(){return this.chain(q())}function Fn(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return this.chain(z(n,r))}function Rn(n,t){return this.chain(S(n,t,jt(t)))}function Gn(n,t){return this.chain(B(n,t))}function Ln(n){return this.chain(H(n))}function Un(){return this.chain(J())}function Xn(n,t,r){var u=this;return Tt(n)?Tt(t)||(r=t,t=Et):(r=n,t=n=Et),new Promise(function(e,i){var o=void 0;u.emitter(function(t){return o=t,n(t,r)!==!1},function(n){t(n,r),Ot(n)?i(n):e(o)},yt({},{data:{value:r},sources:{value:u.sources}}))})}function qn(n){return this.chain(Y(n))}function zn(n,t){return this.chain(Z(n,t))}function Bn(n){return this.chain($(n))}function Hn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(nn(t))}function Jn(){return this.chain(tn())}function Kn(n){return this.chain(on(n))}function Qn(){return this.chain(U())}function Vn(n,t){return this.chain(cn(n,t))}function Wn(){return this.chain(fn())}function Yn(n){return this.chain(an(n))}Object.defineProperty(t,"__esModule",{value:!0});var Zn,$n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},nt="Aeroflow",tt="Array",rt=Symbol.toStringTag,ut="Date",et="Error",it="Function",ot=Symbol.iterator,ct="Number",ft="Promise",at="prototype",st="RegExp",lt="String",vt="Undefined",ht=Date.now,dt=Math.floor,gt=Math.pow,mt=Math.random,bt=Math.min,wt=Number.MAX_SAFE_INTEGER,pt=Object.create,yt=Object.defineProperties,xt=Object.prototype.toString,kt=function(n,t,r){return t>n?-r:n>t?r:0},At=function(n){return function(){return n}},St=function(n){return n},Et=function(){},Mt=function(n){return xt.call(n).slice(8,-1)},Nt=function(n){return function(t){return Mt(t)===n}},Pt=function(n){return n===!0||n===!1},jt=function(n){return void 0!==n},Ot=Nt(et),Tt=function(n){return"function"==typeof n},Ct=Number.isInteger,It=function(n){return null!=n&&"object"===("undefined"==typeof n?"undefined":$n(n))},_t=Nt(ft),Dt=function(n){return void 0===n},Ft=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return function(){return n.apply(void 0,r)}},Rt=function(){return!1},Gt=function(){return!0},Lt=function(n,t){switch(Mt(n)){case ut:n-=ht();break;case ct:break;default:n=+n}return isNaN(n)?t:0>n?0:n},Ut=function(n,t){return Tt(n)?n:jt(t)?Tt(t)?t:At(t):At(n)},Xt=function(n,t){return n=+n,isNaN(n)?t:n},qt=function(n){return Ot(n)?n:new Error(n)},zt=e().use(s).use(nt,f).use(tt,o).use(et,c).use(it,a).use(ft,l),Bt=e().use(g).use(d).use(h),Ht=pt(Object[at],{average:{value:wn,writable:!0},"catch":{value:yn,writable:!0},coalesce:{value:kn,writable:!0},count:{value:Sn,writable:!0},delay:{value:En,writable:!0},distinct:{value:Mn,writable:!0},dump:{value:Nn,writable:!0},every:{value:Pn,writable:!0},filter:{value:jn,writable:!0},flatten:{value:On,writable:!0},group:{value:Tn,writable:!0},map:{value:Cn,writable:!0},max:{value:In,writable:!0},mean:{value:_n,writable:!0},min:{value:Dn,writable:!0},reduce:{value:Rn,writable:!0},replay:{value:Gn,writable:!0},retry:{value:Ln,writable:!0},reverse:{value:Un,writable:!0},skip:{value:qn,writable:!0},slice:{value:zn,writable:!0},some:{value:Bn,writable:!0},sort:{value:Hn,writable:!0},sum:{value:Jn,writable:!0},take:{value:Kn,writable:!0},toArray:{value:Qn,writable:!0},toMap:{value:Vn,writable:!0},toSet:{value:Wn,writable:!0},toString:{value:Yn,writable:!0}});bn[at]=pt(Ht,(Zn={},r(Zn,rt,{value:nt}),r(Zn,"bind",{value:pn}),r(Zn,"chain",{value:xn}),r(Zn,"concat",{value:An}),r(Zn,"notify",{value:Fn}),r(Zn,"run",{value:Xn}),Zn)),yt(sn,{adapters:{value:zt},create:{value:ln},empty:{enumerable:!0,value:new bn(m(!0))},expand:{value:vn},just:{value:hn},notifiers:{value:Bt},operators:{value:Ht},random:{value:dn},range:{value:gn},repeat:{value:mn},"return":{value:hn}}),t["default"]=sn,n.exports=t["default"]});