!function(n,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var r={exports:{}};t(r,r.exports),n.aeroflow=r.exports}}(this,function(n,t){"use strict";function r(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function e(n,t,r){switch(n){case!0:return!1;case!1:return r(!1),!0}switch(It(n)){case wt:n.then(function(n){e(n,t,r)||t(!0)},function(n){return r(Yt(n))});break;case st:r(n)}return!0}function i(n){return function(t,r){e(t(n),r,r)||r(!0)}}function o(n){return function(t,r,u){return n.emitter(t,r,objectDefineProperties({},{data:{value:u.data},sources:{value:n.sources}}))}}function c(n){return function(t,r,u){var i=-1;!function o(){for(;++i<n.length;)if(e(t(n[i]),o,r))return;r(!0)}()}}function f(n){return function(t,r,u){e(t(n(u.data)),r,r)||r(!0)}}function a(n){return function(t,r,u){var i=void 0,o=o=n[vt]();!function c(){for(;!(i=o.next()).done;)if(e(t(i.value),c,r))return;r(!0)}()}}function s(n){return function(t,r,u){return n.then(function(n){e(t(n),r,r)||r(!0)},function(n){return r(Yt(n))})}}function l(n,t){var r=It(n);switch(r){case ct:case ht:case dt:case pt:case yt:break;default:var u=$t[r];if(Lt(u))return u(n);if(vt in n)return a(n)}return t?i(n):void 0}function v(n){var t=n[0];if(Lt(t)){n.shift();var r=Lt(n[0])?n.shift():function(n){if(Gt(n))throw n};return{done:r,next:t}}}function h(n){function t(n){return function(t){return r.emit(n,t),!0}}var r=n[0];if(Lt(r.emit))return n.shift(),{next:t("next"),done:t("done")}}function d(n){function t(n){return function(t){return r.dispatchEvent(new CustomEvent(n,{detail:t})),!0}}var r=n[0];if(Lt(r.dispatchEvent))return n.shift(),{next:t("next"),done:t("done")}}function w(n){var t=n[0];if(Lt(t.onNext)&&Lt(t.onError)&&Lt(t.onCompleted))return n.shift(),{done:function(n){return(isError(n)?t.onError:t.onCompleted)(n),!0},next:function(n){return t.onNext(n),!0}}}function b(n,t){var r=void 0;switch(It(t[0])){case ct:case ht:case dt:case pt:case yt:break;default:for(var u=-1,e=nr.length;!r&&++u<e;)r=nr[u](t)}r||(r=v([Dt]));var i=St({},{data:{value:t[0]},sources:{value:n.sources}});setImmediate(function(){return n.emitter(function(n){return!1!==r.next(n,i.data)},function(n){return r.done(n,i.data)},i)})}function m(n){return function(t,r){return r(n)}}function g(n){return zt(n)?m(!0):Lt(n)?function(t,r,u){function i(n){f.push(n),c()}function o(n){a||(a=!0,Lt(s)&&setTimeout(s,0),zt(n)&&(n=!0),r(n))}function c(){for(l=!1;f.length;)if(e(t(f.shift()),c,o))return void(l=!0)}var f=[],a=!1,s=void 0,l=!1;s=n(i,o,u)}:i(n)}function p(n,t){var r=Lt(n)?n:Tt(n);return function(n,u,i){var o=0,c=t;!function f(){for(;!e(n(c=r(c,o++,i.data)),f,u););}()}}function y(n,t){t=Wt(t,1-Pt(10,-15)),n=Wt(n,0),t-=n;var r=Ut(n)&&Ut(t)?kt:_t;return function(u,i){!function o(){for(;!e(u(r(n+t*At())),o,i););}()}}function x(n,t,r){if(t=Wt(t,jt),n=Wt(n,0),n===t)return i(n);var u=t>n;if(u){if(r=Wt(r,1),1>r)return i(n)}else if(r=Wt(r,-1),r>-1)return i(n);var o=u?function(n){return t>=n}:function(n){return n>=t};return function(t,u,i){var c=n-r;!function f(){for(;o(c+=r);)if(e(t(c),f,u))return;u(!0)}()}}function k(n,t){return function(r,u,i){var o=-1;!function c(f){setTimeout(function(){e(r(n(o,i.data)),c,u)||c()},Qt(t(++o,i.data),1e3))}()}}function P(n){return function(t,r,u){var i=0;!function o(){for(;!e(t(n(i++,u.data)),o,r););}()}}function A(n,t){var r=Vt(n,Tt(n));return Bt(t)?k(r,Vt(t,Tt(t))):P(r)}function E(n){return function(t){return function(r,u,i){var o=!0,c=1,f=void 0;t(function(t){return o?(o=!1,f=t):f=n(f,t,c++,i.data),!0},function(n){(Gt(n)||o||!e(r(f),Ht(u,n),u))&&u(n)},i)}}}function j(n,t){return function(r){return function(u,i,o){var c=0,f=t;r(function(t){return f=n(f,t,c++,o.data),!0},function(n){(Gt(n)||!e(u(f),Ht(i,n),i))&&i(n)},o)}}}function N(n,t){return function(r){return function(u,i,o){var c=!0,f=0,a=t;r(function(t){return c=!1,a=n(a,t,f++,o.data),!0},function(n){(Gt(n)||c||!e(u(a),Ht(i,n),i))&&i(n)},o)}}}function S(n,t,r){return zt(n)?function(){return m(!1)}:Lt(n)?zt(t)?E(n):r?N(n,t):j(n,t):function(){return i(n)}}function M(){return S(function(n,t,r){return(n*r+t)/(r+1)})}function O(n){var t=Bt(n)?l(n,!0):function(n,t){return t(!1)};return function(n){return function(r,u,e){return n(r,function(n){return Gt(n)?t(r,u,e):u(n)},e)}}}function C(){return S(function(n){return n+1},0)}function T(n){var t=Vt(n,Tt(n));return function(n){return function(r,u,i){var o=0;return n(function(n){return new Promise(function(u,c){setTimeout(function(){try{e(r(n),u,c)||u(!0)}catch(t){c(t)}},Qt(t(n,o++,i.data),1e3))})},u,i)}}}function _(n){return function(t){return n?function(n,r,u){var e=!0,i=void 0;t(function(t){return e||i!==t?(e=!1,i=t,n(t)):!0},r,u)}:function(n,r,u){var e=new Set;t(function(t){return e.has(t)?!0:(e.add(t),n(t))},r,u)}}}function D(n){return function(t){return function(r,u,e){return t(function(t){return console.log(n+"next",t),r(t)},function(t){console[Gt(t)?"error":"log"](n+"done",t),u(t)},e)}}}function I(n,t){return function(r){return function(u,e,i){return r(function(r){return t(n+"next",r),u(r)},function(r){t(n+"done",r),e(r)},i)}}}function F(n,t){return Lt(n)?I("",n):Lt(t)?I(n,t):D(zt(n)?"":n)}function R(n){var t=void 0;switch(It(n)){case lt:t=n;break;case mt:t=function(t){return n.test(t)};break;case yt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,i){var o=!0,c=!0;n(function(n){return o=!1,t(n)?!0:(c=!1,!1)},function(n){(Gt(n)||!e(r(c||o),u,u))&&u(n)},i)}}}function B(n){var t=void 0;switch(It(n)){case lt:t=n;break;case mt:t=function(t){return n.test(t)};break;case yt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var i=0;n(function(n){return!t(n,i++,e.data)||r(n)},u,e)}}}function G(n){return n=Wt(n,jt),1>n?_t:function(t){return function(r,u,e){var i=0,o=function c(t){if(i===n)return r(t);var u=l(t,!1);return u?(i++,new Promise(function(n){return u(c,function(t){i--,n(t)},e)})):r(t)};t(o,u,e)}}}function L(n){n=n.length?n.map(function(n){return Lt(n)?n:Tt(n)}):[Tt()];var t=n.length-1;return function(r){return function(u,e,i){var o=new Map,c=0;r(function(r){for(var u=void 0,e=o,f=-1;++f<=t;){var a=n[f](r,c++,i.data);u=e.get(a),u||(u=f===t?[]:new Map,e.set(a,u)),e=u}return u.push(r),!0},function(n){Gt(n)?e(n):a(o)(u,Ht(e,n),i)},i)}}}function U(){return function(n){return function(t,r,u){var i=[];n(function(n){return i.push(n),!0},function(n){(Gt(n)||!e(t(i),Ht(r,n),r))&&r(n)},u)}}}function X(n){if(zt(n))return _t;var t=Lt(n)?n:Tt(n);return function(n){return function(r,u,e){var i=0;n(function(n){return r(t(n,i++,e.data))},u,e)}}}function q(n,t){var r=Vt(t,Kt),u=U()(l(n,!0));return function(n){return function(t,e,i){return u(function(u){return new Promise(function(e){return n(function(n){return new Promise(function(e){var o=c(u),f=B(function(t){return r(n,t)}),a=X(function(t){return[n,t]});return a(f(o))(t,e,i)})},e,i)})},e,i)}}}function z(n){return S(function(n,t){return t>n?t:n})}function H(){return function(n){return function(t,r,u){return U()(n)(function(n){return n.length?(n.sort(),t(n[kt(n.length/2)])):!0},r,u)}}}function J(n){return S(function(n,t){return n>t?t:n})}function K(n){return n=Wt(n,1),n?function(t){return function(r,u,e){function i(){t(r,o,e)}function o(t){++c<=n&&Gt(t)?i():u(t)}var c=0;i()}}:_t}function Q(){return function(n){return function(t,r,u){return U()(n)(function(n){return new Promise(function(r){var u=n.length;!function i(){for(;--u>=0&&!e(t(n[u]),i,r););r(!0)}()})},r,u)}}}function V(){return function(n){return function(t,r,u){return n(Kt,r,u)}}}function W(n){return function(t){return function(r,u,e){var i=-1;t(function(t){return++i<n||r(t)},u,e)}}}function Y(n){return function(t){return function(r,u,i){return U()(t)(function(t){return t.length<=n||new Promise(function(u){var i=0,o=t.length-n;!function c(){for(;!e(r(t[i++]),c,u)&&o>i;);u(!0)}()})},u,i)}}}function Z(n){return function(t){return function(r,u,e){var i=0,o=!0;t(function(t){return o&&!n(t,i++,e.data)&&(o=!1),o||r(t)},u,e)}}}function $(n){switch(It(n)){case dt:return n>0?W(n):0>n?Y(-n):_t;case lt:return Z(n);case yt:return V();default:return n?V():_t}}function nn(n,t){return n=Wt(n,0),t=Wt(t,jt),0>n||0>t?function(r){return function(u,i,o){return U()(r)(function(r){var i=r.length,o=0>n?i+n:n,c=0>t?i+t:Et(i,t);return 0>o&&(o=0),0>c&&(c=0),o>=c||new Promise(function(n){!function t(){for(;!e(u(r[o++]),t,n)&&c>o;);n(!0)}()})},i,o)}}:function(r){return function(u,e,i){var o=-1;r(function(r){return++o<n||t>o&&u(r)},e,i)}}}function tn(n){var t=void 0;switch(It(n)){case lt:t=n;break;case mt:t=function(t){return n.test(t)};break;case yt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,i){var o=!1;n(function(n){return t(n)?(o=!0,!1):!0},function(n){(Gt(n)||!e(r(o),u,u))&&u(n)},i)}}}function rn(n){for(var t=[],r=[],u=1,e=-1,i=n.length;++e<i;){var o=n[e];switch(It(o)){case lt:r.push(o),t.push(u);continue;case dt:o=o>0?1:-1;break;case gt:o="desc"===o.toLowerCase()?-1:1;break;default:o=o?1:-1}t.length?t[t.length-1]=o:u=o}var f=r.length?function(n,u){for(var e=void 0,i=-1,o=r.length;++i<o;){var c=r[i];if(e=Ct(c(n),c(u),t[i]))break}return e}:function(n,t){return Ct(n,t,u)};return function(n){return function(t,r,u){return U()(n)(function(n){return new Promise(function(r){return c(n.sort(f))(t,r,u)})},r,u)}}}function un(){return S(function(n,t){return+t+n},0,!0)}function en(n){return function(t){return function(r,u,e){var i=0;t(function(t){return++i<n?r(t):(t=r(t),Rt(t)?!1:qt(t)?t.then(Jt):t)},u,e)}}}function on(n){return function(t){return function(r,u,i){return U()(t)(function(t){return!t.length||new Promise(function(u){var i=t.length,o=i-n;0>o&&(o=0),!function c(){for(;!e(r(t[o++]),c,u)&&i>o;);u(!0)}()})},u,i)}}}function cn(n){return function(t){return function(r,u,e){var i=0;t(function(t){return n(t,i++,e.data)&&r(t)},u,e)}}}function fn(n){switch(It(n)){case dt:return n>0?en(n):0>n?on(-n):function(){return m(!1)};case lt:return cn(n);default:return n?_t:function(){return m(!1)}}}function an(n){return function(t){return Lt(n)?function(r,u,e){var i=0;t(function(t){return n(t,i++,e.data),r(t)},u,e)}:t}}function sn(n,t){var r=zt(n)?_t:Lt(n)?n:Tt(n),u=zt(t)?_t:Lt(t)?t:Tt(t);return function(n){return function(t,i,o){var c=0,f=new Map;n(function(n){return f.set(r(n,c++,o.data),u(n,c++,o.data)),!0},function(n){(Gt(n)||!e(t(f),Ht(i,n),i))&&i(n)},o)}}}function ln(){return function(n){return function(t,r,u){var i=new Set;n(function(n){return i.add(n),!0},function(n){(Gt(n)||!e(t(i),Ht(r,n),r))&&r(n)},u)}}}function vn(n){var t=zt(n)?Tt(","):Vt(n,Tt(n));return S(function(n,r,u,e){return n+t(r,u,e)+r},void 0,!1)}function hn(n,t,r){var u=-1;!function e(i){if(i!==!0||++u>=r.sources.length)t(i);else try{l(r.sources[u],!0)(n,e,r)}catch(o){t(o)}}(!0)}function dn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new kn(hn,t)}function wn(n){return new kn(g(n))}function bn(n){return new kn(m(Yt(n)))}function mn(n,t){return new kn(p(n,t))}function gn(n){return new kn(i(n))}function pn(n,t){return new kn(y(n,t))}function yn(n,t,r){return new kn(x(n,t,r))}function xn(n,t){return new kn(A(n,t))}function kn(n,t){St(this,{emitter:{value:n},sources:{value:t}})}function Pn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new kn(this.emitter,this.sources.concat(t))}function An(){return this.chain(M())}function En(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new kn(this.emitter,t)}function jn(n){return this.chain(O(n))}function Nn(n){return new kn(n(this.emitter),this.sources)}function Sn(){return this.chain(C())}function Mn(n){return this.chain(T(n))}function On(n){return this.chain(_(n))}function Cn(n,t){return this.chain(F(n,t))}function Tn(n){return this.chain(R(n))}function _n(n){return this.chain(B(n))}function Dn(n){return this.chain(G(n))}function In(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(L(t))}function Fn(n,t){return this.chain(q(n,t))}function Rn(n){return this.chain(X(n))}function Bn(){return this.chain(z())}function Gn(){return this.chain(H())}function Ln(){return this.chain(J())}function Un(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new kn(this.emitter,t.concat(this.sources))}function Xn(n,t,r){return this.chain(S(n,t,r))}function qn(n){return this.chain(K(n))}function zn(){return this.chain(Q())}function Hn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return b(this,t),this}function Jn(n){return this.chain($(n))}function Kn(n,t){return this.chain(nn(n,t))}function Qn(n){return this.chain(tn(n))}function Vn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(rn(t))}function Wn(){return this.chain(un())}function Yn(n){return this.chain(fn(n))}function Zn(n){return this.chain(an(n))}function $n(){return this.chain(U())}function nt(n,t){return this.chain(sn(n,t))}function tt(){return this.chain(ln())}function rt(n){return this.chain(vn(n))}Object.defineProperty(t,"__esModule",{value:!0});var ut,et,it="Aeroflow",ot="Array",ct="Boolean",ft=Symbol.toStringTag,at="Date",st="Error",lt="Function",vt=Symbol.iterator,ht="Null",dt="Number",wt="Promise",bt="prototype",mt="RegExp",gt="String",pt="Symbol",yt="Undefined",xt=Date.now,kt=Math.floor,Pt=Math.pow,At=Math.random,Et=Math.min,jt=Number.MAX_SAFE_INTEGER,Nt=Object.create,St=Object.defineProperties,Mt=Object.defineProperty,Ot=Object.prototype.toString,Ct=function(n,t,r){return t>n?-r:n>t?r:0},Tt=function(n){return function(){return n}},_t=function(n){return n},Dt=function(){},It=function(n){return Ot.call(n).slice(8,-1)},Ft=function(n){return function(t){return It(t)===n}},Rt=function(n){return n===!0||n===!1},Bt=function(n){return void 0!==n},Gt=Ft(st),Lt=function(n){return"function"==typeof n},Ut=Number.isInteger,Xt=Ft(dt),qt=Ft(wt),zt=function(n){return void 0===n},Ht=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return function(){return n.apply(void 0,r)}},Jt=function(){return!1},Kt=function(){return!0},Qt=function(n,t){switch(It(n)){case at:n-=xt();break;case dt:break;default:n=+n}return isNaN(n)?t:0>n?0:n},Vt=function(n,t){return Lt(n)?n:t},Wt=function(n,t){return!Xt(n)&&(n=+n,isNaN(n))?t:n},Yt=function(n){return Gt(n)?n:new Error(n)},Zt=function rr(n,t){u(this,rr),St(this,{data:{value:n},sources:{value:t}})};Mt(Zt[bt],ft,{value:it+".Context"});var $t=Nt(Object[bt],(ut={},r(ut,it,{value:o}),r(ut,ot,{configurable:!0,value:c,writable:!0}),r(ut,lt,{configurable:!0,value:f,writable:!0}),r(ut,wt,{configurable:!0,value:s,writable:!0}),ut)),nr=[v,h,d,w],tr=Nt(Object[bt],{average:{value:An,writable:!0},"catch":{value:jn,writable:!0},count:{value:Sn,writable:!0},delay:{value:Mn,writable:!0},distinct:{value:On,writable:!0},dump:{value:Cn,writable:!0},every:{value:Tn,writable:!0},filter:{value:_n,writable:!0},flatten:{value:Dn,writable:!0},group:{value:In,writable:!0},join:{value:Fn,writable:!0},map:{value:Rn,writable:!0},max:{value:Bn,writable:!0},mean:{value:Gn,writable:!0},min:{value:Ln,writable:!0},reduce:{value:Xn,writable:!0},retry:{value:qn,writable:!0},reverse:{value:zn,writable:!0},skip:{value:Jn,writable:!0},slice:{value:Kn,writable:!0},some:{value:Qn,writable:!0},sort:{value:Vn,writable:!0},sum:{value:Wn,writable:!0},take:{value:Yn,writable:!0},tap:{value:Zn,writable:!0},toArray:{value:$n,writable:!0},toMap:{value:nt,writable:!0},toSet:{value:tt,writable:!0},toString:{value:rt,writable:!0}});kn[bt]=Nt(tr,(et={},r(et,ft,{value:it}),r(et,"append",{value:Pn}),r(et,"bind",{value:En}),r(et,"chain",{value:Nn}),r(et,"prepend",{value:Un}),r(et,"run",{value:Hn}),et)),St(dn,{adapters:{value:$t},create:{value:wn},empty:{enumerable:!0,value:new kn(m(!0))},error:{value:bn},expand:{value:mn},just:{value:gn},operators:{value:tr},random:{value:pn},range:{value:yn},repeat:{value:xn}}),t["default"]=dn,n.exports=t["default"]});