!function(n,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var r={exports:{}};t(r,r.exports),n.aeroflow=r.exports}}(this,function(n,t){"use strict";function r(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)}function u(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function e(){function n(n){for(var t=r[Gt(n)],u=arguments.length,e=Array(u>1?u-1:0),i=1;u>i;i++)e[i-1]=arguments[i];if(zt(t))return t.apply(void 0,[n].concat(e));for(var o=r.length;o--;){var c=r[o].apply(r,[n].concat(e));if(c)return c}}function t(n,t){switch(Gt(n)){case lt:r.push(n);break;case mt:zt(t)?r.splice(n,0,t):r.splice(n,1);break;case wt:case xt:zt(t)?r[n]=t:delete r[n]}return r}var r=[];return It(r,{get:{value:n},use:{value:t}})}function i(n,t,r){switch(n){case!0:return!1;case!1:return r(!1),!0}return Jt(n)?n.then(function(n){i(n,t,r)||t(!0)},function(n){return r(tr(n))}):(r(n),!0)}function o(n){return function(t,r,u){var e=-1;!function o(){for(;++e<n.length;)if(i(t(n[e]),o,r))return;r(!0)}()}}function c(n){return function(t,r){r(n)}}function f(n){return n[vt]}function a(n){return function(t,r,u){i(t(n()),r,r)||r(!0)}}function s(n){return Ht(n)&&dt in n?function(t,r,u){var e=n[dt]();!function o(){for(var n=void 0;!(n=e.next()).done;)if(i(t(n.value),o,r))return;r(!0)}()}:void 0}function v(n){return function(t,r,u){return n.then(function(n){i(t(n),r,r)||r(!0)},function(n){return r(tr(n))})}}function h(n){return function(t,r){i(t(n),r,r)||r(!0)}}function l(n){return function(t,r){return r(n)}}function d(n,t){function r(){for(c=!1;a.length;)switch(s=i(a.pop()(),r,e)){case!1:s=!0;continue;case!0:return s=!1;default:return}f&&(a=Nt)}function e(n){f=!0,s=!1,a=Nt,t(n)}var o,c=!1,f=!1,a=[],s=void 0;return o={},u(o,st,function(n){return f?!1:(f=!0,a.push(Qt(t,n)),void(c||r()))}),u(o,gt,function(t){return f?!1:(a.push(Qt(n,t)),c||r(),s)}),o}function g(n){return Kt(n)?l(!0):zt(n)?function(t,r,u){var e=n(d(t,function(n){zt(e)&&setImmediate(e),r(n)},u))}:h(n)}function m(n,t){return n=$t(n),function(r,u,e){var o=0,c=t;!function f(){for(;!i(r(c=n(c,o++)),f,u););}()}}function p(n,t){t=nr(t,1-Et(10,-15)),n=nr(n,0),t-=n;var r=Bt(n)&&Bt(t)?At:Ft;return function(u,e){!function o(){for(;!i(u(r(n+t*Mt())),o,e););}()}}function y(n,t,r){if(t=nr(t,Lt),n=nr(n,0),n===t)return h(n);var u=t>n;if(u){if(r=nr(r,1),1>r)return h(n)}else if(r=nr(r,-1),r>-1)return h(n);var e=u?function(n){return t>=n}:function(n){return n>=t};return function(t,u,o){var c=n-r;!function f(){for(;e(c+=r);)if(i(t(c),f,u))return;u(!0)}()}}function b(n,t){return function(r,u,e){var o=0;!function c(e){setTimeout(function(){i(r(n(o++)),c,u)||c()},Zt(t(o),1e3))}()}}function w(n){return function(t,r,u){var e=0;!function o(){for(;!i(t(n(e++)),o,r););}()}}function x(n,t){return n=$t(n),Xt(t)?b(n,$t(t)):w(n)}function k(n){var t=arguments.length<=1||void 0===arguments[1]?"next":arguments[1];return Ht(n)&&zt(n.addListener)&&zt(n.removeListener)?function(r){return n.addListener(t,r),function(){return n.removeListener(t,r)}}:void 0}function S(n){var t=arguments.length<=1||void 0===arguments[1]?"next":arguments[1],r=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return Ht(n)&&zt(n.addEventListener)&&zt(n.removeEventListener)?function(u){return n.addEventListener(t,u,r),function(){return n.removeEventListener(t,u,r)}}:void 0}function A(n,t){var u=ur.get.apply(ur,[n].concat(r(t)));return zt(u)?function(n,t,r){function e(n){setImmediate(a),c(!1)}function i(n){!1===f(n)&&e(!1)}var o=d(n,t),c=o[st],f=o[gt],a=$t(u(i,e))}:l(!0)}function E(n){var t,r=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(Ht(n)){var e=n.log,i=n.error;if(zt(e))return t={},u(t,st,function(t){return(qt(t)&&zt(i)?i:e).call(n,r+"done",t)}),u(t,gt,function(t){return e.call(n,r+"next",t)}),t}}function M(n){var t,r=arguments.length<=1||void 0===arguments[1]?"next":arguments[1],e=arguments.length<=2||void 0===arguments[2]?"done":arguments[2];if(Ht(n)&&zt(n.emit)){var i=function(t){return function(r){return n.emit(t,r)}};return t={},u(t,st,i(e)),u(t,gt,i(r)),t}}function P(n){var t,r=arguments.length<=1||void 0===arguments[1]?"next":arguments[1],e=arguments.length<=2||void 0===arguments[2]?"done":arguments[2];if(Ht(n)&&zt(n.dispatchEvent)){var i=function(t){return function(r){return n.dispatchEvent(new CustomEvent(t,{detail:r}))}};return t={},u(t,st,i(e)),u(t,gt,i(r)),t}}function j(n,t){return function(u){return function(e,i,o){var c=er.get.apply(er,[n].concat(r(t)));if(Ht(c)){var f=function(){var n=c[st],t=c[gt];return zt(t)?{v:u(function(n){return t(n),e(n)},function(t){return zt(n)&&n(t),i(t)},o)}:void 0}();if("object"===("undefined"==typeof f?"undefined":et(f)))return f.v}u(e,i,o)}}}function L(n,t,r){if(Kt(n))n=Ft,t=Dt();else{if(!zt(n))return Qt(h,n);t=$t(t)}return function(u){return function(e,o,c){var f=!r,a=0,s=t();u(function(t){return f&&(f=!1,Kt(s))?(s=t,!0):(s=n(s,t,a++),!0)},function(n){(qt(n)||f||!i(e(s),Qt(o,n),o))&&o(n)},c)}}}function N(n){return L(function(n,t,r){return(n*r+t)/(r+1)},0)}function O(n){return Xt(n)?(n=$t(n),function(t){return function(r,u,e){return t(r,function(t){if(qt(t)){var i=n(t);(rr.get(i)||h(i))(r,Qt(u,!1),e)}else u(t)},e)}}):function(n){return function(t,r,u){return n(t,function(n){return r(!qt(n)&&n)},u)}}}function I(n){return Xt(n)?(n=$t(n),function(t){return function(r,u,e){var i=!0;t(function(n){return i=!1,r(n)},function(t){if(!qt(t)&&i){var o=n();(rr.get(o)||h(o))(r,u,e)}else u(t)},e)}}):Ft}function T(){return L(function(n){return n+1},0,!0)}function _(n){var t=$t(n);return function(n){return function(r,u,e){var o=0;return n(function(n){return new Promise(function(u,e){setTimeout(function(){try{i(r(n),u,e)||u(!0)}catch(t){e(t)}},Zt(t(n,o++),1e3))})},u,e)}}}function C(n){return function(t){return n?function(n,r,u){var e=!0,i=void 0;t(function(t){return e||i!==t?(e=!1,i=t,n(t)):!0},r,u)}:function(n,r,u){var e=new Set;t(function(t){return e.has(t)?!0:(e.add(t),n(t))},r,u)}}}function D(n){var t=void 0;switch(Gt(n)){case lt:t=n;break;case bt:t=function(t){return n.test(t)};break;case kt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var o=!0,c=!0,f=0;n(function(n){return o=!1,t(n,f++)?!0:c=!1},function(n){(qt(n)||!i(r(c||o),u,u))&&u(n)},e)}}}function F(n){var t=void 0;switch(Gt(n)){case lt:t=n;break;case bt:t=function(t){return n.test(t)};break;case kt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var i=0;n(function(n){return!t(n,i++)||r(n)},u,e)}}}function R(n){return n=nr(n,Lt),1>n?Ft:function(t){return function(r,u,e){var i=0,o=function c(t){if(i===n)return r(t);var u=rr.get(t);return u?(i++,new Promise(function(n){return u(c,function(t){i--,n(t)},e)})):r(t)};t(o,u,e)}}}function G(n){n=n.length?n.map($t):[Dt];var t=n.length-1;return function(r){return function(u,e,i){var o=new Map,c=0;r(function(r){for(var u=o,e=void 0,i=-1;++i<=t;){var f=n[i](r,c++);e=u.get(f),e||(e=i===t?[]:new Map,u.set(f,e)),u=e}return e.push(r),!0},function(n){qt(n)?e(n):s(o)(u,Qt(e,n),i)},i)}}}function U(n){return Kt(n)?Ft:(n=$t(n),function(t){return function(r,u,e){var i=0;t(function(t){return r(n(t,i++))},u,e)}})}function W(){return L(function(n,t){return t>n?t:n})}function X(){return function(n){return function(t,r,u){var e=[];n(function(n){return e.push(n),!0},function(n){(qt(n)||!i(t(e),Qt(r,n),r))&&r(n)},u)}}}function q(){return function(n){return function(t,r,u){return X()(n)(function(n){return n.length?(n.sort(),t(n[At(n.length/2)])):!0},r,u)}}}function z(){return L(function(n,t){return n>t?t:n})}function B(n,t){var r=$t(n);return function(u){return function(e,o,c){var f=St(),a=[],s=t?function(n){var t=St(),r={delay:t-f,result:n};return f=t,r}:function(n){return{delay:0,result:n}};u(function(n){return a.push(s(n)),e(n)},function(t){qt(t)?o(t):!function(){var t=-1;!function u(c){if(!i(c,u,Qt(o,c))){t=(t+1)%a.length;var f=a[t];n=t?f.delay:f.delay+nr(r(),0),(n?setTimeout:setImmediate)(function(){i(e(f.result),u,u)||u(!0)},n)}}(!0)}()},c)}}}function H(n){return n=nr(n,1),n?function(t){return function(r,u,e){function i(){t(r,o,e)}function o(t){++c<=n&&qt(t)?i():u(t)}var c=0;i()}}:Ft}function J(){return function(n){return function(t,r,u){return X()(n)(function(n){return new Promise(function(r){var u=n.length;!function e(){for(;--u>=0&&!i(t(n[u]),e,r););r(!0)}()})},r,u)}}}function K(){return function(n){var t=new WeakMap;return function(r,u,e){var i=t.get(e);i?i.result?u(i.result):i.retarded.push(d(r,u)):(t.set(e,i={retarded:[d(r,u)]}),n(function(n){for(var t=i.retarded,r=-1,u=t.length;++r<u;)t[r][gt](n)},function(n){i.result=n;for(var t=i.retarded,r=-1,u=t.length;++r<u;)t[r][st](n)},e))}}}function Q(){return function(n){return function(t,r,u){return n(Yt,r,u)}}}function V(n){return function(t){return function(r,u,e){var i=-1;t(function(t){return++i<n||r(t)},u,e)}}}function Y(n){return function(t){return function(r,u,e){var i=[];t(function(n){return i.push(n),!0},function(t){qt(t)?u(t):n>=i.length?u(t):o(i.slice(0,-n))(r,u,e)},e)}}}function Z(n){return function(t){return function(r,u,e){var i=0,o=!0;t(function(t){return o&&!n(t,i++)&&(o=!1),o||r(t)},u,e)}}}function $(n){switch(Gt(n)){case mt:return n>0?V(n):0>n?Y(-n):Ft;case lt:return Z(n);case kt:return Q();default:return n?Q():Ft}}function nn(n,t){return n=nr(n,0),t=nr(t,Lt),0>n||0>t?function(r){return function(u,e,o){var c=[];r(function(n){return c.push(n),!0},function(r){qt(r)?e(r):!function(){var o=Pt(0,n>0?n:c.length+n),f=Pt(t>0?jt(c.length,t):c.length+t);e=Qt(e,r),!function a(){for(;f>o;)if(i(u(c[o++]),a,e))return;e()}()}()},o)}}:function(r){return function(u,e,i){var o=-1;r(function(r){return++o<n||t>o&&u(r)},e,i)}}}function tn(n){var t=void 0;switch(Gt(n)){case lt:t=n;break;case bt:t=function(t){return n.test(t)};break;case kt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var o=!1,c=0;n(function(n){return t(n,c++)?(o=!0,!1):!0},function(n){(qt(n)||!i(r(o),u,u))&&u(n)},e)}}}function rn(n){for(var t=[],r=[],u=1,e=-1,i=n.length;++e<i;){var c=n[e];switch(Gt(c)){case lt:r.push(c),t.push(u);continue;case mt:c=c>0?1:-1;break;case wt:c="desc"===c.toLowerCase()?-1:1;break;default:c=c?1:-1}t.length?t[t.length-1]=c:u=c}var f=r.length?function(n,u){for(var e=void 0,i=-1,o=r.length;++i<o;){var c=r[i];if(e=Ct(c(n),c(u),t[i]))break}return e}:function(n,t){return Ct(n,t,u)};return function(n){return function(t,r,u){return X()(n)(function(n){return new Promise(function(r){return o(n.sort(f))(t,r,u)})},r,u)}}}function un(){return L(function(n,t){return+t+n},0)}function en(n){return function(t){return function(r,u,e){var i=0;t(function(t){return++i<n?r(t):(t=r(t),Wt(t)?!1:Jt(t)?t.then(Vt):t)},u,e)}}}function on(n){return function(t){return function(r,u,e){var i=[];t(function(t){return i.length>=n&&i.shift(),i.push(t),!0},function(n){qt(n)?u(n):o(i)(r,u,e)},e)}}}function cn(n){return function(t){return function(r,u,e){var i=0;t(function(t){return n(t,i++)&&r(t)},u,e)}}}function fn(n){switch(Gt(n)){case mt:return n>0?en(n):0>n?on(-n):Qt(l,!1);case lt:return cn(n);case kt:return Ft;default:return n?Ft:Qt(l,!1)}}function an(n,t){return n=Kt(n)?Ft:$t(n),t=Kt(t)?Ft:$t(t),function(r){return function(u,e,o){var c=new Map,f=0;r(function(r){return c.set(n(r,f++),t(r,f++)),!0},function(n){(qt(n)||!i(u(c),Qt(e,n),e))&&e(n)},o)}}}function sn(){return function(n){return function(t,r,u){var e=new Set;n(function(n){return e.add(n),!0},function(n){(qt(n)||!i(t(e),Qt(r,n),r))&&r(n)},u)}}}function vn(n){return n=$t(n,n||","),L(function(t,r,u){return t.length?t+n(r,u)+r:""+r},"",!0)}function hn(){}function ln(n,t){return n["_"===t.name[0]?t.name.substring(1):t.name]={configurable:!0,value:t,writable:!0},n}function dn(n){return Tt(new hn,vt,{value:n})}function gn(){return this.chain(N())}function mn(n){return this.chain(O(n))}function pn(n){return dn(n(this[vt]),this.sources)}function yn(n){return this.chain(I(n))}function bn(){return this.chain(T())}function wn(n){return this.chain(_(n))}function xn(n){return this.chain(C(n))}function kn(n){return this.chain(D(n))}function Sn(n){return this.chain(F(n))}function An(n){return this.chain(R(n))}function En(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(G(t))}function Mn(n){return this.chain(U(n))}function Pn(){return this.chain(W())}function jn(){return this.chain(q())}function Ln(){return this.chain(z())}function Nn(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return this.chain(j(n,r))}function On(n,t){return this.chain(L(n,t,Xt(t)))}function In(n,t){return this.chain(B(n,t))}function Tn(n){return this.chain(H(n))}function _n(){return this.chain(J())}function Cn(n,t){var r=this;return zt(n)?zt(t)||(t=Rt):t=n=Rt,ft in this||Tt(this,ft,{value:{}}),new Promise(function(u,e){var i=0,o=void 0;r[vt](function(t){return o=t,n(t,i++)!==!1},function(n){t(n),qt(n)?e(n):u(o)},r.context)})}function Dn(){return this.chain(K())}function Fn(n){return this.chain($(n))}function Rn(n,t){return this.chain(nn(n,t))}function Gn(n){return this.chain(tn(n))}function Un(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(rn(t))}function Wn(){return this.chain(un())}function Xn(n){return this.chain(fn(n))}function qn(){return this.chain(X())}function zn(n,t){return this.chain(an(n,t))}function Bn(){return this.chain(sn())}function Hn(n){return this.chain(vn(n))}function Jn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return function(n,r,u){var e=-1;!function i(o){if(o!==!0||++e>=t.length)r(o);else try{var c=t[e];(rr.get(c)||h(c))(n,i,u)}catch(f){r(f)}}(!0)}}function Kn(){return dn(Jn.apply(void 0,arguments))}function Qn(n){return dn(g(n))}function Vn(n,t){return dn(m(n,t))}function Yn(n){return dn(h(n))}function Zn(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return dn(A(n,r))}function $n(n,t){return dn(p(n,t))}function nt(n,t,r){return dn(y(n,t,r))}function tt(n,t){return dn(x(n,t))}function rt(n,t){return n[t.name]={value:t},n}Object.defineProperty(t,"__esModule",{value:!0});var ut,et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},it="Aeroflow",ot="Array",ct=Symbol.toStringTag,ft=Symbol("Context"),at="Date",st=Symbol("Done"),vt=Symbol("Emitter"),ht="Error",lt="Function",dt=Symbol.iterator,gt=Symbol("Next"),mt="Number",pt="Promise",yt="prototype",bt="RegExp",wt="String",xt="Symbol",kt="Undefined",St=Date.now,At=Math.floor,Et=Math.pow,Mt=Math.random,Pt=Math.max,jt=Math.min,Lt=Number.MAX_SAFE_INTEGER,Nt=void 0,Ot=Object.create,It=Object.defineProperties,Tt=Object.defineProperty,_t=Object.prototype.toString,Ct=function(n,t,r){return t>n?-r:n>t?r:0},Dt=function(n){return function(){return n}},Ft=function(n){return n},Rt=function(){},Gt=function(n){return _t.call(n).slice(8,-1)},Ut=function(n){return function(t){return Gt(t)===n}},Wt=function(n){return n===!0||n===!1},Xt=function(n){return n!==Nt},qt=Ut(ht),zt=function(n){return"function"==typeof n},Bt=Number.isInteger,Ht=function(n){return null!=n&&"object"===("undefined"==typeof n?"undefined":et(n))},Jt=Ut(pt),Kt=function(n){return n===Nt},Qt=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return function(){return n.apply(void 0,r)}},Vt=function(){return!1},Yt=function(){return!0},Zt=function(n,t){switch(Gt(n)){case at:n-=St();break;case mt:break;default:n=+n}return isNaN(n)?t:0>n?0:n},$t=function(n,t){return zt(n)?n:Xt(t)?zt(t)?t:Dt(t):Dt(n)},nr=function(n,t){return n=+n,isNaN(n)?t:n},tr=function(n){return qt(n)?n:new Error(n)},rr=e().use(s).use(it,f).use(ot,o).use(ht,c).use(lt,a).use(pt,v),ur=e().use(k).use(S),er=e().use(E).use(P).use(M),ir=Ot(Object[yt],[gn,mn,yn,bn,wn,xn,kn,Sn,An,En,Mn,Pn,jn,Ln,Nn,On,In,Tn,_n,Dn,Fn,Rn,Gn,Un,Wn,Xn,qn,zn,Bn,Hn].reduce(ln,{}));hn[yt]=Ot(ir,(ut={},u(ut,ct,{value:it}),u(ut,"chain",{value:pn}),u(ut,"run",{value:Cn}),ut)),It(Kn,[Qn,Vn,Yn,Zn,$n,nt,tt].reduce(rt,{})),It(Kn,{adapters:{value:rr},empty:{enumerable:!0,get:function(){return dn(l(!0))}},listeners:{value:ur},notifiers:{value:er},operators:{value:ir}}),t["default"]=Kn,n.exports=t["default"]});