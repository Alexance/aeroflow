!function(n,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var r={exports:{}};t(r,r.exports),n.aeroflow=r.exports}}(this,function(n,t){"use strict";function r(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function u(n,t,r){switch(n){case!0:return!1;case!1:return r(!1),!0}switch(Ot(n)){case st:n.then(function(n){u(n,t,r)||t(!0)},function(n){return r(Jt(n))});break;case it:r(n)}return!0}function e(n){return function(t,r,e){var i=-1,o=n.length;!function c(){for(;++i<o;)if(u(t(n[i]),c,r))return;r(!0)}()}}function i(n){return function(t,r){r(n)}}function o(n){return function(t,r,u){return n.emitter(t,r,St({},{data:{value:u.data},sources:{value:n.sources}}))}}function c(n){return function(t,r,e){u(t(n(e.data)),r,r)||r(!0)}}function f(n,t){return!bt.has(t)&&ct in n?function(t,r,e){var i=void 0,o=o=n[ct]();!function c(){for(;!(i=o.next()).done;)if(u(t(i.value),c,r))return;r(!0)}()}:void 0}function a(n){return function(t,r,e){return n.then(function(n){u(t(n),r,r)||r(!0)},function(n){return r(Jt(n))})}}function s(n,t){var r=Ot(n),u=Kt[r];if(Ft(u))return u(n);for(var e=-1,i=Kt.length;++e<i;)if(u=Kt[e](n,r),Ft(u))return u;return t}function l(n){return function(t,r){u(t(n),r,r)||r(!0)}}function v(n){return function(t,r){return r(n)}}function h(n){return Gt(n)?v(!0):Ft(n)?function(t,r,e){function i(n){f.push(n),c()}function o(n){a||(a=!0,Ft(s)&&setTimeout(s,0),Gt(n)&&(n=!0),r(n))}function c(){for(l=!1;f.length;)if(u(t(f.shift()),c,o))return void(l=!0)}var f=[],a=!1,s=void 0,l=!1;s=n(i,o,e)}:l(n)}function d(n,t){var r=Ft(n)?n:Nt(n);return function(n,e,i){var o=0,c=t;!function f(){for(;!u(n(c=r(c,o++,i.data)),f,e););}()}}function w(n,t){t=Ht(t,1-pt(10,-15)),n=Ht(n,0),t-=n;var r=Rt(n)&&Rt(t)?gt:jt;return function(e,i){!function o(){for(;!u(e(r(n+t*yt())),o,i););}()}}function b(n,t,r){if(t=Ht(t,xt),n=Ht(n,0),n===t)return l(n);var e=t>n;if(e){if(r=Ht(r,1),1>r)return l(n)}else if(r=Ht(r,-1),r>-1)return l(n);var i=e?function(n){return t>=n}:function(n){return n>=t};return function(t,e,o){var c=n-r;!function f(){for(;i(c+=r);)if(u(t(c),f,e))return;e(!0)}()}}function m(n,t){return function(r,e,i){var o=-1;!function c(f){setTimeout(function(){u(r(n(o,i.data)),c,e)||c()},qt(t(++o,i.data),1e3))}()}}function g(n){return function(t,r,e){var i=0;!function o(){for(;!u(t(n(i++,e.data)),o,r););}()}}function p(n,t){var r=zt(n,Nt(n));return It(t)?m(r,zt(t,Nt(t))):g(r)}function y(n){return function(t){return function(r,e,i){var o=!0,c=1,f=void 0;t(function(t){return o?(o=!1,f=t):f=n(f,t,c++,i.data),!0},function(n){(Dt(n)||o||!u(r(f),Lt(e,n),e))&&e(n)},i)}}}function k(n,t){return function(r){return function(e,i,o){var c=0,f=t;r(function(t){return f=n(f,t,c++,o.data),!0},function(n){(Dt(n)||!u(e(f),Lt(i,n),i))&&i(n)},o)}}}function x(n,t){return function(r){return function(e,i,o){var c=!0,f=0,a=t;r(function(t){return c=!1,a=n(a,t,f++,o.data),!0},function(n){(Dt(n)||c||!u(e(a),Lt(i,n),i))&&i(n)},o)}}}function P(n,t,r){return Gt(n)?function(){return v(!1)}:Ft(n)?Gt(t)?y(n):r?x(n,t):k(n,t):function(){return l(n)}}function S(){return P(function(n,t,r){return(n*r+t)/(r+1)})}function A(n){var t=It(n)?s(n,l(n)):v(!1);return function(n){return function(r,u,e){return n(r,function(n){return Dt(n)?t(r,u,e):u(n)},e)}}}function M(){return P(function(n){return n+1},0)}function N(n){var t=zt(n,Nt(n));return function(n){return function(r,e,i){var o=0;return n(function(n){return new Promise(function(e,c){setTimeout(function(){try{u(r(n),e,c)||e(!0)}catch(t){c(t)}},qt(t(n,o++,i.data),1e3))})},e,i)}}}function j(n){return function(t){return n?function(n,r,u){var e=!0,i=void 0;t(function(t){return e||i!==t?(e=!1,i=t,n(t)):!0},r,u)}:function(n,r,u){var e=new Set;t(function(t){return e.has(t)?!0:(e.add(t),n(t))},r,u)}}}function E(n){return function(t){return function(r,u,e){return t(function(t){return console.log(n+"next",t),r(t)},function(t){console[Dt(t)?"error":"log"](n+"done",t),u(t)},e)}}}function O(n,t){return function(r){return function(u,e,i){return r(function(r){return t(n+"next",r),u(r)},function(r){t(n+"done",r),e(r)},i)}}}function T(n,t){return Ft(n)?O("",n):Ft(t)?O(n,t):E(Gt(n)?"":n)}function _(n){var t=void 0;switch(Ot(n)){case ot:t=n;break;case vt:t=function(t){return n.test(t)};break;case wt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,e,i){var o=!0,c=!0;n(function(n){return o=!1,t(n)?!0:(c=!1,!1)},function(n){(Dt(n)||!u(r(c||o),e,e))&&e(n)},i)}}}function I(n){var t=void 0;switch(Ot(n)){case ot:t=n;break;case vt:t=function(t){return n.test(t)};break;case wt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var i=0;n(function(n){return!t(n,i++,e.data)||r(n)},u,e)}}}function D(n){return n=Ht(n,xt),1>n?jt:function(t){return function(r,u,e){var i=0,o=function c(t){if(i===n)return r(t);var u=s(t);return u?(i++,new Promise(function(n){return u(c,function(t){i--,n(t)},e)})):r(t)};t(o,u,e)}}}function F(n){n=n.length?n.map(function(n){return Ft(n)?n:Nt(n)}):[Nt()];var t=n.length-1;return function(r){return function(u,e,i){var o=new Map,c=0;r(function(r){for(var u=void 0,e=o,f=-1;++f<=t;){var a=n[f](r,c++,i.data);u=e.get(a),u||(u=f===t?[]:new Map,e.set(a,u)),e=u}return u.push(r),!0},function(n){Dt(n)?e(n):f(o)(u,Lt(e,n),i)},i)}}}function R(){return function(n){return function(t,r,e){var i=[];n(function(n){return i.push(n),!0},function(n){(Dt(n)||!u(t(i),Lt(r,n),r))&&r(n)},e)}}}function B(n){if(Gt(n))return jt;var t=Ft(n)?n:Nt(n);return function(n){return function(r,u,e){var i=0;n(function(n){return r(t(n,i++,e.data))},u,e)}}}function C(n,t){var r=zt(t,Xt),u=R()(s(n,l(n)));return function(n){return function(t,i,o){return u(function(u){return new Promise(function(i){return n(function(n){return new Promise(function(i){var c=e(u),f=I(function(t){return r(n,t)}),a=B(function(t){return[n,t]});return a(f(c))(t,i,o)})},i,o)})},i,o)}}}function G(n){return P(function(n,t){return t>n?t:n})}function L(){return function(n){return function(t,r,u){return R()(n)(function(n){return n.length?(n.sort(),t(n[gt(n.length/2)])):!0},r,u)}}}function U(n){return P(function(n,t){return n>t?t:n})}function X(n,t){var r=zt(n,Nt(n));return function(n){return function(e,i,o){var c=mt(),f=[],a=t?function(n){var t=mt(),r={delay:t-c,result:n};return c=t,r}:function(n){return{delay:0,result:n}};n(function(n){return f.push(a(n)),e(n)},function(n){Dt(n)?i(n):!function(){var n=-1,t=f.length;!function c(a){if(!u(a,c,Lt(i,a))){n=(n+1)%t;var s=f[n],l=n?s.delay:s.delay+Ht(r(o.data),0);(l?setTimeout:setImmediate)(function(){u(e(s.result),c,c)||c(!0)},l)}}(!0)}()},o)}}}function q(n){return n=Ht(n,1),n?function(t){return function(r,u,e){function i(){t(r,o,e)}function o(t){++c<=n&&Dt(t)?i():u(t)}var c=0;i()}}:jt}function z(){return function(n){return function(t,r,e){return R()(n)(function(n){return new Promise(function(r){var e=n.length;!function i(){for(;--e>=0&&!u(t(n[e]),i,r););r(!0)}()})},r,e)}}}function H(){return function(n){return function(t,r,u){return n(Xt,r,u)}}}function J(n){return function(t){return function(r,u,e){var i=-1;t(function(t){return++i<n||r(t)},u,e)}}}function K(n){return function(t){return function(r,u,i){var o=[];t(function(n){return o.push(n),!0},function(t){Dt(t)?u(t):n>=o.length?u(t):e(o.slice(0,-n))(r,u,i)},i)}}}function Q(n){return function(t){return function(r,u,e){var i=0,o=!0;t(function(t){return o&&!n(t,i++,e.data)&&(o=!1),o||r(t)},u,e)}}}function V(n){switch(Ot(n)){case at:return n>0?J(n):0>n?K(-n):jt;case ot:return Q(n);case wt:return H();default:return n?H():jt}}function W(n,t){return n=Ht(n,0),t=Ht(t,xt),0>n||0>t?function(r){return function(e,i,o){return R()(r)(function(r){var i=r.length,o=0>n?i+n:n,c=0>t?i+t:kt(i,t);return 0>o&&(o=0),0>c&&(c=0),o>=c||new Promise(function(n){!function t(){for(;!u(e(r[o++]),t,n)&&c>o;);n(!0)}()})},i,o)}}:function(r){return function(u,e,i){var o=-1;r(function(r){return++o<n||t>o&&u(r)},e,i)}}}function Y(n){var t=void 0;switch(Ot(n)){case ot:t=n;break;case vt:t=function(t){return n.test(t)};break;case wt:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,e,i){var o=!1;n(function(n){return t(n)?(o=!0,!1):!0},function(n){(Dt(n)||!u(r(o),e,e))&&e(n)},i)}}}function Z(n){for(var t=[],r=[],u=1,i=-1,o=n.length;++i<o;){var c=n[i];switch(Ot(c)){case ot:r.push(c),t.push(u);continue;case at:c=c>0?1:-1;break;case ht:c="desc"===c.toLowerCase()?-1:1;break;default:c=c?1:-1}t.length?t[t.length-1]=c:u=c}var f=r.length?function(n,u){for(var e=void 0,i=-1,o=r.length;++i<o;){var c=r[i];if(e=Mt(c(n),c(u),t[i]))break}return e}:function(n,t){return Mt(n,t,u)};return function(n){return function(t,r,u){return R()(n)(function(n){return new Promise(function(r){return e(n.sort(f))(t,r,u)})},r,u)}}}function $(){return P(function(n,t){return+t+n},0,!0)}function nn(n){return function(t){return function(r,u,e){var i=0;t(function(t){return++i<n?r(t):(t=r(t),_t(t)?!1:Ct(t)?t.then(Ut):t)},u,e)}}}function tn(n){return function(t){return function(r,u,i){var o=[];t(function(t){return o.length>=n&&o.shift(),o.push(t),!0},function(n){Dt(n)?u(n):e(o)(r,u,i)},i)}}}function rn(n){return function(t){return function(r,u,e){var i=0;t(function(t){return n(t,i++,e.data)&&r(t)},u,e)}}}function un(n){switch(Ot(n)){case at:return n>0?nn(n):0>n?tn(-n):function(){return v(!1)};case ot:return rn(n);default:return n?jt:function(){return v(!1)}}}function en(n){return function(t){return Ft(n)?function(r,u,e){var i=0;t(function(t){return n(t,i++,e.data),r(t)},u,e)}:t}}function on(n,t){var r=Gt(n)?jt:Ft(n)?n:Nt(n),e=Gt(t)?jt:Ft(t)?t:Nt(t);return function(n){return function(t,i,o){var c=0,f=new Map;n(function(n){return f.set(r(n,c++,o.data),e(n,c++,o.data)),!0},function(n){(Dt(n)||!u(t(f),Lt(i,n),i))&&i(n)},o)}}}function cn(){return function(n){return function(t,r,e){var i=new Set;n(function(n){return i.add(n),!0},function(n){(Dt(n)||!u(t(i),Lt(r,n),r))&&r(n)},e)}}}function fn(n){var t=Gt(n)?Nt(","):zt(n,Nt(n));return P(function(n,r,u,e){return n+t(r,u,e)+r},void 0,!1)}function an(n,t,r){var u=-1;!function e(i){if(i!==!0||++u>=r.sources.length)t(i);else try{var o=r.sources[u],c=s(o,l(o));c(n,e,r)}catch(f){t(f)}}(!0)}function sn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new mn(an,t)}function ln(n){return new mn(h(n))}function vn(n,t){return new mn(d(n,t))}function hn(n){return new mn(l(n))}function dn(n,t){return new mn(w(n,t))}function wn(n,t,r){return new mn(b(n,t,r))}function bn(n,t){return new mn(p(n,t))}function mn(n,t){St(this,{emitter:{value:n},sources:{value:t}})}function gn(){return this.chain(S())}function pn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new mn(this.emitter,t)}function yn(n){return this.chain(A(n))}function kn(n){return new mn(n(this.emitter),this.sources)}function xn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return new mn(this.emitter,this.sources.concat(t))}function Pn(){return this.chain(M())}function Sn(n){return this.chain(N(n))}function An(n){return this.chain(j(n))}function Mn(n,t){return this.chain(T(n,t))}function Nn(n){return this.chain(_(n))}function jn(n){return this.chain(I(n))}function En(n){return this.chain(D(n))}function On(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(F(t))}function Tn(n,t){return this.chain(C(n,t))}function _n(n){return this.chain(B(n))}function In(){return this.chain(G())}function Dn(){return this.chain(L())}function Fn(){return this.chain(U())}function Rn(n,t,r){return this.chain(P(n,t,r))}function Bn(n,t){return this.chain(X(n,t))}function Cn(n){return this.chain(q(n))}function Gn(){return this.chain(z())}function Ln(n,t,r){var u=this;Ft(n)?Ft(t)||(r=t,t=Et):(r=n,t=n=Et);var e=St({},{data:{value:r},sources:{value:this.sources}});return new Promise(function(i,o){return u.emitter(function(t){return!1!==n(t,r)},function(n){try{t(n,r)}catch(u){n=u}(Dt(n)?o:i)(n)},e)})}function Un(n){return this.chain(V(n))}function Xn(n,t){return this.chain(W(n,t))}function qn(n){return this.chain(Y(n))}function zn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(Z(t))}function Hn(){return this.chain($())}function Jn(n){return this.chain(un(n))}function Kn(n){return this.chain(en(n))}function Qn(){return this.chain(R())}function Vn(n,t){return this.chain(on(n,t))}function Wn(){return this.chain(cn())}function Yn(n){return this.chain(fn(n))}Object.defineProperty(t,"__esModule",{value:!0});var Zn,$n,nt="Aeroflow",tt="Array",rt="Boolean",ut=Symbol.toStringTag,et="Date",it="Error",ot="Function",ct=Symbol.iterator,ft="Null",at="Number",st="Promise",lt="prototype",vt="RegExp",ht="String",dt="Symbol",wt="Undefined",bt=new Set([rt,ft,at,vt,ht,dt,wt]),mt=Date.now,gt=Math.floor,pt=Math.pow,yt=Math.random,kt=Math.min,xt=Number.MAX_SAFE_INTEGER,Pt=Object.create,St=Object.defineProperties,At=Object.prototype.toString,Mt=function(n,t,r){return t>n?-r:n>t?r:0},Nt=function(n){return function(){return n}},jt=function(n){return n},Et=function(){},Ot=function(n){return At.call(n).slice(8,-1)},Tt=function(n){return function(t){return Ot(t)===n}},_t=function(n){return n===!0||n===!1},It=function(n){return void 0!==n},Dt=Tt(it),Ft=function(n){return"function"==typeof n},Rt=Number.isInteger,Bt=Tt(at),Ct=Tt(st),Gt=function(n){return void 0===n},Lt=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return function(){return n.apply(void 0,r)}},Ut=function(){return!1},Xt=function(){return!0},qt=function(n,t){switch(Ot(n)){case et:n-=mt();break;case at:break;default:n=+n}return isNaN(n)?t:0>n?0:n},zt=function(n,t){return Ft(n)?n:t},Ht=function(n,t){return!Bt(n)&&(n=+n,isNaN(n))?t:n},Jt=function(n){return Dt(n)?n:new Error(n)},Kt=St([f],(Zn={},r(Zn,nt,{value:o}),r(Zn,tt,{configurable:!0,value:e,writable:!0}),r(Zn,it,{configurable:!0,value:i,writable:!0}),r(Zn,ot,{configurable:!0,value:c,writable:!0}),r(Zn,st,{configurable:!0,value:a,writable:!0}),Zn)),Qt=Pt(Object[lt],{average:{value:gn,writable:!0},"catch":{value:yn,writable:!0},count:{value:Pn,writable:!0},delay:{value:Sn,writable:!0},distinct:{value:An,writable:!0},dump:{value:Mn,writable:!0},every:{value:Nn,writable:!0},filter:{value:jn,writable:!0},flatten:{value:En,writable:!0},group:{value:On,writable:!0},join:{value:Tn,writable:!0},map:{value:_n,writable:!0},max:{value:In,writable:!0},mean:{value:Dn,writable:!0},min:{value:Fn,writable:!0},reduce:{value:Rn,writable:!0},replay:{value:Bn,writable:!0},retry:{value:Cn,writable:!0},reverse:{value:Gn,writable:!0},skip:{value:Un,writable:!0},slice:{value:Xn,writable:!0},some:{value:qn,writable:!0},sort:{value:zn,writable:!0},sum:{value:Hn,writable:!0},take:{value:Jn,writable:!0},tap:{value:Kn,writable:!0},toArray:{value:Qn,writable:!0},toMap:{value:Vn,writable:!0},toSet:{value:Wn,writable:!0},toString:{value:Yn,writable:!0}});mn[lt]=Pt(Qt,($n={},r($n,ut,{value:nt}),r($n,"bind",{value:pn}),r($n,"chain",{value:kn}),r($n,"concat",{value:xn}),r($n,"run",{value:Ln}),$n)),St(sn,{adapters:{value:Kt},create:{value:ln},empty:{enumerable:!0,value:new mn(v(!0))},expand:{value:vn},just:{value:hn},operators:{value:Qt},random:{value:dn},range:{value:wn},repeat:{value:bn}}),t["default"]=sn,n.exports=t["default"]});