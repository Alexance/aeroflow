!function(n,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var r={exports:{}};t(r,r.exports),n.aeroflow=r.exports}}(this,function(n,t){"use strict";function r(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)}function u(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function e(){function n(n){for(var t=r[Wt(n)],u=arguments.length,e=Array(u>1?u-1:0),i=1;u>i;i++)e[i-1]=arguments[i];if(Ht(t))return t.apply(void 0,[n].concat(e));for(var o=r.length;o--;){var c=r[o].apply(r,[n].concat(e));if(c)return c}}function t(n,t){switch(Wt(n)){case dt:r.push(n);break;case yt:Ht(t)?r.splice(n,0,t):r.splice(n,1);break;case kt:case St:Ht(t)?r[n]=t:delete r[n]}return r}var r=[];return _t(r,{get:{value:n},use:{value:t}})}function i(n,t,r){switch(n){case!0:return!1;case!1:return r(!1),!0}return Qt(n)?n.then(function(n){i(n,t,r)||t(!0)},function(n){return r(ur(n))}):(r(n),!0)}function o(n){return function(t,r,u){var e=-1;!function o(){for(;++e<n.length;)if(i(t(n[e]),o,r))return;r(!0)}()}}function c(n){return function(t,r){r(n)}}function f(n){return n[lt]}function a(n){return function(t,r,u){i(t(n()),r,r)||r(!0)}}function s(n){return Kt(n)&&mt in n?function(t,r,u){var e=n[mt]();!function o(){for(var n=void 0;!(n=e.next()).done;)if(i(t(n.value),o,r))return;r(!0)}()}:void 0}function h(n){return function(t,r,u){return n.then(function(n){i(t(n),r,r)||r(!0)},function(n){return r(ur(n))})}}function v(n){return function(t,r){i(t(n),r,r)||r(!0)}}function l(n){return function(t,r,u){var e=-1;!function i(o){if(o!==!0||++e>=n.length)r(o);else try{var c=n[e];(er.get(c)||v(c))(t,i,u)}catch(f){r(f)}}(!0)}}function g(n){return function(t,r){return r(n)}}function d(n,t){function r(){for(c=!1;a.length;)switch(s=i(a.pop()(),r,e)){case!1:s=!0;continue;case!0:return s=!1;default:return}f&&(a=It)}function e(n){f=!0,s=!1,a=It,t(n)}var o,c=!1,f=!1,a=[],s=void 0;return o={},u(o,vt,function(n){return f?!1:(f=!0,a.push(Yt(t,n)),void(c||r()))}),u(o,pt,function(t){return f?!1:(a.push(Yt(n,t)),c||r(),s)}),o}function m(n){return Vt(n)?g(!0):Ht(n)?function(t,r,u){var e=n(d(t,function(n){Ht(e)&&setImmediate(e),r(n)},u))}:v(n)}function p(n,t){return n=tr(n),function(r,u,e){var o=0,c=t;!function f(){for(;!i(r(c=n(c,o++)),f,u););}()}}function y(n,t){t=rr(t,1-Pt(10,-15)),n=rr(n,0),t-=n;var r=Jt(n)&&Jt(t)?Mt:Gt;return function(u,e){!function o(){for(;!i(u(r(n+t*jt())),o,e););}()}}function b(n,t,r){if(t=rr(t,Ot),n=rr(n,0),n===t)return v(n);var u=t>n;if(u){if(r=rr(r,1),1>r)return v(n)}else if(r=rr(r,-1),r>-1)return v(n);var e=u?function(n){return t>=n}:function(n){return n>=t};return function(t,u,o){var c=n-r;!function f(){for(;e(c+=r);)if(i(t(c),f,u))return;u(!0)}()}}function w(n,t){return function(r,u,e){var o=0;!function c(e){setTimeout(function(){i(r(n(o++)),c,u)||c()},nr(t(o),1e3))}()}}function x(n){return function(t,r,u){var e=0;!function o(){for(;!i(t(n(e++)),o,r););}()}}function k(n,t){return n=tr(n),zt(t)?w(n,tr(t)):x(n)}function S(n){var t=arguments.length<=1||void 0===arguments[1]?"next":arguments[1];return Kt(n)&&Ht(n.addListener)&&Ht(n.removeListener)?function(r){return n.addListener(t,r),function(){return n.removeListener(t,r)}}:void 0}function A(n){var t=arguments.length<=1||void 0===arguments[1]?"next":arguments[1],r=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return Kt(n)&&Ht(n.addEventListener)&&Ht(n.removeEventListener)?function(u){return n.addEventListener(t,u,r),function(){return n.removeEventListener(t,u,r)}}:void 0}function E(n,t){var u=ir.get.apply(ir,[n].concat(r(t)));return Ht(u)?function(n,t,r){function e(n){setImmediate(a),c(!1)}function i(n){!1===f(n)&&e(!1)}var o=d(n,t),c=o[vt],f=o[pt],a=tr(u(i,e))}:g(!0)}function M(n){var t,r=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(Kt(n)){var e=n.log,i=n.error;if(Ht(e))return t={},u(t,vt,function(t){return(Bt(t)&&Ht(i)?i:e).call(n,r+"done",t)}),u(t,pt,function(t){return e.call(n,r+"next",t)}),t}}function P(n){var t,r=arguments.length<=1||void 0===arguments[1]?"next":arguments[1],e=arguments.length<=2||void 0===arguments[2]?"done":arguments[2];if(Kt(n)&&Ht(n.emit)){var i=function(t){return function(r){return n.emit(t,r)}};return t={},u(t,vt,i(e)),u(t,pt,i(r)),t}}function j(n){var t,r=arguments.length<=1||void 0===arguments[1]?"next":arguments[1],e=arguments.length<=2||void 0===arguments[2]?"done":arguments[2];if(Kt(n)&&Ht(n.dispatchEvent)){var i=function(t){return function(r){return n.dispatchEvent(new CustomEvent(t,{detail:r}))}};return t={},u(t,vt,i(e)),u(t,pt,i(r)),t}}function L(n,t){return function(u){return function(e,i,o){var c=or.get.apply(or,[n].concat(r(t)));if(Kt(c)){var f=function(){var n=c[vt],t=c[pt];return Ht(t)?{v:u(function(n){return t(n),e(n)},function(t){return Ht(n)&&n(t),i(t)},o)}:void 0}();if("object"===("undefined"==typeof f?"undefined":ot(f)))return f.v}u(e,i,o)}}}function N(n,t,r){if(Vt(n))n=Gt,t=Rt();else{if(!Ht(n))return Yt(v,n);t=tr(t)}return function(u){return function(e,o,c){var f=!r,a=0,s=t();u(function(t){return f&&(f=!1,Vt(s))?(s=t,!0):(s=n(s,t,a++),!0)},function(n){(Bt(n)||f||!i(e(s),Yt(o,n),o))&&o(n)},c)}}}function O(n){return N(function(n,t,r){return(n*r+t)/(r+1)},0)}function I(n){return zt(n)?(n=tr(n),function(t){return function(r,u,e){return t(r,function(t){if(Bt(t)){var i=n(t);(er.get(i)||v(i))(r,Yt(u,!1),e)}else u(t)},e)}}):function(n){return function(t,r,u){return n(t,function(n){return r(!Bt(n)&&n)},u)}}}function T(n){return zt(n)?(n=tr(n),function(t){return function(r,u,e){var i=!0;t(function(n){return i=!1,r(n)},function(t){if(!Bt(t)&&i){var o=n();(er.get(o)||v(o))(r,u,e)}else u(t)},e)}}):Gt}function _(n){return n.length?function(t){return function(r,u,e){t(r,function(t){t===!0&&l(n)(r,u,e)},e)}}:Gt}function C(){return N(function(n){return n+1},0,!0)}function D(n){var t=tr(n);return function(n){return function(r,u,e){var o=0;return n(function(n){return new Promise(function(u,e){setTimeout(function(){try{i(r(n),u,e)||u(!0)}catch(t){e(t)}},nr(t(n,o++),1e3))})},u,e)}}}function F(n){return function(t){return n?function(n,r,u){var e=!0,i=void 0;t(function(t){return e||i!==t?(e=!1,i=t,n(t)):!0},r,u)}:function(n,r,u){var e=new Set;t(function(t){return e.has(t)?!0:(e.add(t),n(t))},r,u)}}}function R(n){var t=void 0;switch(Wt(n)){case dt:t=n;break;case xt:t=function(t){return n.test(t)};break;case At:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var o=!0,c=!0,f=0;n(function(n){return o=!1,t(n,f++)?!0:c=!1},function(n){(Bt(n)||!i(r(c||o),u,u))&&u(n)},e)}}}function G(n){var t=void 0;switch(Wt(n)){case dt:t=n;break;case xt:t=function(t){return n.test(t)};break;case At:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var i=0;n(function(n){return!t(n,i++)||r(n)},u,e)}}}function U(n){return n=rr(n,Ot),1>n?Gt:function(t){return function(r,u,e){var i=0,o=function c(t){if(i===n)return r(t);var u=er.get(t);return u?(i++,new Promise(function(n){return u(c,function(t){i--,n(t)},e)})):r(t)};t(o,u,e)}}}function W(n){n=n.length?n.map(tr):[Rt];var t=n.length-1;return function(r){return function(u,e,i){var o=new Map,c=0;r(function(r){for(var u=o,e=void 0,i=-1;++i<=t;){var f=n[i](r,c++);e=u.get(f),e||(e=i===t?[]:new Map,u.set(f,e)),u=e}return e.push(r),!0},function(n){Bt(n)?e(n):s(o)(u,Yt(e,n),i)},i)}}}function X(n){return Vt(n)?Gt:(n=tr(n),function(t){return function(r,u,e){var i=0;t(function(t){return r(n(t,i++))},u,e)}})}function q(){return N(function(n,t){return t>n?t:n})}function z(){return function(n){return function(t,r,u){var e=[];n(function(n){return e.push(n),!0},function(n){(Bt(n)||!i(t(e),Yt(r,n),r))&&r(n)},u)}}}function B(){return function(n){return function(t,r,u){return z()(n)(function(n){return n.length?(n.sort(),t(n[Mt(n.length/2)])):!0},r,u)}}}function H(){return N(function(n,t){return n>t?t:n})}function J(n,t){var r=tr(n);return function(u){return function(e,o,c){var f=Et(),a=[],s=t?function(n){var t=Et(),r={delay:t-f,result:n};return f=t,r}:function(n){return{delay:0,result:n}};u(function(n){return a.push(s(n)),e(n)},function(t){Bt(t)?o(t):!function(){var t=-1;!function u(c){if(!i(c,u,Yt(o,c))){t=(t+1)%a.length;var f=a[t];n=t?f.delay:f.delay+rr(r(),0),(n?setTimeout:setImmediate)(function(){i(e(f.result),u,u)||u(!0)},n)}}(!0)}()},c)}}}function K(n){return n=rr(n,1),n?function(t){return function(r,u,e){function i(){t(r,o,e)}function o(t){++c<=n&&Bt(t)?i():u(t)}var c=0;i()}}:Gt}function Q(){return function(n){return function(t,r,u){return z()(n)(function(n){return new Promise(function(r){var u=n.length;!function e(){for(;--u>=0&&!i(t(n[u]),e,r););r(!0)}()})},r,u)}}}function V(){return function(n){var t=new WeakMap;return function(r,u,e){var i=t.get(e);i?i.result?u(i.result):i.retarded.push(d(r,u)):(t.set(e,i={retarded:[d(r,u)]}),n(function(n){for(var t=i.retarded,r=-1,u=t.length;++r<u;)t[r][pt](n)},function(n){i.result=n;for(var t=i.retarded,r=-1,u=t.length;++r<u;)t[r][vt](n)},e))}}}function Y(){return function(n){return function(t,r,u){return n($t,r,u)}}}function Z(n){return function(t){return function(r,u,e){var i=-1;t(function(t){return++i<n||r(t)},u,e)}}}function $(n){return function(t){return function(r,u,e){var i=[];t(function(n){return i.push(n),!0},function(t){Bt(t)?u(t):n>=i.length?u(t):o(i.slice(0,-n))(r,u,e)},e)}}}function nn(n){return function(t){return function(r,u,e){var i=0,o=!0;t(function(t){return o&&!n(t,i++)&&(o=!1),o||r(t)},u,e)}}}function tn(n){switch(Wt(n)){case yt:return n>0?Z(n):0>n?$(-n):Gt;case dt:return nn(n);case At:return Y();default:return n?Y():Gt}}function rn(n,t){return n=rr(n,0),t=rr(t,Ot),0>n||0>t?function(r){return function(u,e,o){var c=[];r(function(n){return c.push(n),!0},function(r){Bt(r)?e(r):!function(){var o=Lt(0,n>0?n:c.length+n),f=Lt(t>0?Nt(c.length,t):c.length+t);e=Yt(e,r),!function a(){for(;f>o;)if(i(u(c[o++]),a,e))return;e()}()}()},o)}}:function(r){return function(u,e,i){var o=-1;r(function(r){return++o<n||t>o&&u(r)},e,i)}}}function un(n){var t=void 0;switch(Wt(n)){case dt:t=n;break;case xt:t=function(t){return n.test(t)};break;case At:t=function(n){return!!n};break;default:t=function(t){return t===n}}return function(n){return function(r,u,e){var o=!1,c=0;n(function(n){return t(n,c++)?(o=!0,!1):!0},function(n){(Bt(n)||!i(r(o),u,u))&&u(n)},e)}}}function en(n){for(var t=[],r=[],u=1,e=-1,i=n.length;++e<i;){var c=n[e];switch(Wt(c)){case dt:r.push(c),t.push(u);continue;case yt:c=c>0?1:-1;break;case kt:c="desc"===c.toLowerCase()?-1:1;break;default:c=c?1:-1}t.length?t[t.length-1]=c:u=c}var f=r.length?function(n,u){for(var e=void 0,i=-1,o=r.length;++i<o;){var c=r[i];if(e=Ft(c(n),c(u),t[i]))break}return e}:function(n,t){return Ft(n,t,u)};return function(n){return function(t,r,u){return z()(n)(function(n){return new Promise(function(r){return o(n.sort(f))(t,r,u)})},r,u)}}}function on(){return N(function(n,t){return+t+n},0)}function cn(n){return function(t){return function(r,u,e){var i=0;t(function(t){return++i<n?r(t):(t=r(t),qt(t)?!1:Qt(t)?t.then(Zt):t)},u,e)}}}function fn(n){return function(t){return function(r,u,e){var i=[];t(function(t){return i.length>=n&&i.shift(),i.push(t),!0},function(n){Bt(n)?u(n):o(i)(r,u,e)},e)}}}function an(n){return function(t){return function(r,u,e){var i=0;t(function(t){return n(t,i++)&&r(t)},u,e)}}}function sn(n){switch(Wt(n)){case yt:return n>0?cn(n):0>n?fn(-n):Yt(g,!1);case dt:return an(n);case At:return Gt;default:return n?Gt:Yt(g,!1)}}function hn(n,t){return n=Vt(n)?Gt:tr(n),t=Vt(t)?Gt:tr(t),function(r){return function(u,e,o){var c=new Map,f=0;r(function(r){return c.set(n(r,f++),t(r,f++)),!0},function(n){(Bt(n)||!i(u(c),Yt(e,n),e))&&e(n)},o)}}}function vn(){return function(n){return function(t,r,u){var e=new Set;n(function(n){return e.add(n),!0},function(n){(Bt(n)||!i(t(e),Yt(r,n),r))&&r(n)},u)}}}function ln(n){return n=tr(n,n||","),N(function(t,r,u){return t.length?t+n(r,u)+r:""+r},"",!0)}function gn(){}function dn(n,t){return n["_"===t.name[0]?t.name.substring(1):t.name]={configurable:!0,value:t,writable:!0},n}function mn(n){return Ct(new gn,lt,{value:n})}function pn(){return this.chain(O())}function yn(n){return this.chain(I(n))}function bn(n){return mn(n(this[lt]),this.sources)}function wn(n){return this.chain(T(n))}function xn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(_(t))}function kn(){return this.chain(C())}function Sn(n){return this.chain(D(n))}function An(n){return this.chain(F(n))}function En(n){return this.chain(R(n))}function Mn(n){return this.chain(G(n))}function Pn(n){return this.chain(U(n))}function jn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(W(t))}function Ln(n){return this.chain(X(n))}function Nn(){return this.chain(q())}function On(){return this.chain(B())}function In(){return this.chain(H())}function Tn(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return this.chain(L(n,r))}function _n(n,t){return this.chain(N(n,t,zt(t)))}function Cn(n,t){return this.chain(J(n,t))}function Dn(n){return this.chain(K(n))}function Fn(){return this.chain(Q())}function Rn(n,t){var r=this;return Ht(n)?Ht(t)||(t=Ut):t=n=Ut,st in this||Ct(this,st,{value:{}}),new Promise(function(u,e){var i=0,o=void 0;r[lt](function(t){return o=t,n(t,i++)!==!1},function(n){t(n),Bt(n)?e(n):u(o)},r.context)})}function Gn(){return this.chain(V())}function Un(n){return this.chain(tn(n))}function Wn(n,t){return this.chain(rn(n,t))}function Xn(n){return this.chain(un(n))}function qn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return this.chain(en(t))}function zn(){return this.chain(on())}function Bn(n){return this.chain(sn(n))}function Hn(){return this.chain(z())}function Jn(n,t){return this.chain(hn(n,t))}function Kn(){return this.chain(vn())}function Qn(n){return this.chain(ln(n))}function Vn(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return t.length?mn(l(t)):fr}function Yn(n){return mn(m(n))}function Zn(n,t){return mn(p(n,t))}function $n(n){return mn(v(n))}function nt(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return mn(E(n,r))}function tt(n,t){return mn(y(n,t))}function rt(n,t,r){return mn(b(n,t,r))}function ut(n,t){return mn(k(n,t))}function et(n,t){return n[t.name]={value:t},n}Object.defineProperty(t,"__esModule",{value:!0});var it,ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},ct="Aeroflow",ft="Array",at=Symbol.toStringTag,st=Symbol("Context"),ht="Date",vt=Symbol("Done"),lt=Symbol("Emitter"),gt="Error",dt="Function",mt=Symbol.iterator,pt=Symbol("Next"),yt="Number",bt="Promise",wt="prototype",xt="RegExp",kt="String",St="Symbol",At="Undefined",Et=Date.now,Mt=Math.floor,Pt=Math.pow,jt=Math.random,Lt=Math.max,Nt=Math.min,Ot=Number.MAX_SAFE_INTEGER,It=void 0,Tt=Object.create,_t=Object.defineProperties,Ct=Object.defineProperty,Dt=Object.prototype.toString,Ft=function(n,t,r){return t>n?-r:n>t?r:0},Rt=function(n){return function(){return n}},Gt=function(n){return n},Ut=function(){},Wt=function(n){return Dt.call(n).slice(8,-1)},Xt=function(n){return function(t){return Wt(t)===n}},qt=function(n){return n===!0||n===!1},zt=function(n){return n!==It},Bt=Xt(gt),Ht=function(n){return"function"==typeof n},Jt=Number.isInteger,Kt=function(n){return null!=n&&"object"===("undefined"==typeof n?"undefined":ot(n))},Qt=Xt(bt),Vt=function(n){return n===It},Yt=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];return function(){return n.apply(void 0,r)}},Zt=function(){return!1},$t=function(){return!0},nr=function(n,t){switch(Wt(n)){case ht:n-=Et();break;case yt:break;default:n=+n}return isNaN(n)?t:0>n?0:n},tr=function(n,t){return Ht(n)?n:zt(t)?Ht(t)?t:Rt(t):Rt(n)},rr=function(n,t){return n=+n,isNaN(n)?t:n},ur=function(n){return Bt(n)?n:new Error(n)},er=e().use(s).use(ct,f).use(ft,o).use(gt,c).use(dt,a).use(bt,h),ir=e().use(S).use(A),or=e().use(M).use(j).use(P),cr=Tt(Object[wt],[pn,yn,wn,xn,kn,Sn,An,En,Mn,Pn,jn,Ln,Nn,On,In,Tn,_n,Cn,Dn,Fn,Gn,Un,Wn,Xn,qn,zn,Bn,Hn,Jn,Kn,Qn].reduce(dn,{}));gn[wt]=Tt(cr,(it={},u(it,at,{value:ct}),u(it,"chain",{value:bn}),u(it,"run",{value:Rn}),it));var fr=mn(g(!0));_t(Vn,[Yn,Zn,$n,nt,tt,rt,ut].reduce(et,{})),_t(Vn,{adapters:{value:er},empty:{enumerable:!0,get:function(){return fr}},listeners:{value:ir},notifiers:{value:or},operators:{value:cr}}),t["default"]=Vn,n.exports=t["default"]});